ARM GAS  /tmp/ccAWfOy4.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32l1xx_ll_usb.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.USB_CoreInit,"ax",%progbits
  16              		.align	1
  17              		.global	USB_CoreInit
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	USB_CoreInit:
  24              	.LFB72:
  25              		.file 1 "Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c"
   1:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
   2:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @file    stm32l1xx_ll_usb.c
   4:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *
   7:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *
  14:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   @verbatim
  15:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   ==============================================================================
  16:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****                     ##### How to use this driver #####
  17:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   ==============================================================================
  18:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     [..]
  19:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  20:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  21:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  22:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  23:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  24:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  25:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   @endverbatim
  26:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   ******************************************************************************
  27:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @attention
  28:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *
  29:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * <h2><center>&copy; Copyright (c) 2016 STMicroelectronics.
  30:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * All rights reserved.</center></h2>
  31:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *
  32:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  33:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * the "License"; You may not use this file except in compliance with the
ARM GAS  /tmp/ccAWfOy4.s 			page 2


  34:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * License. You may obtain a copy of the License at:
  35:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *                        opensource.org/licenses/BSD-3-Clause
  36:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *
  37:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   ******************************************************************************
  38:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
  39:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  40:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  41:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #include "stm32l1xx_hal.h"
  42:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  43:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /** @addtogroup STM32L1xx_LL_USB_DRIVER
  44:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @{
  45:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
  46:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  47:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  48:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #if defined (USB)
  49:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  50:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  51:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  52:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  53:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  54:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  55:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  56:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  57:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
  58:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  Initializes the USB Core
  59:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx USB Instance
  60:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  cfg pointer to a USB_CfgTypeDef structure that contains
  61:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  62:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
  63:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
  64:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_TypeDef *USBx, USB_CfgTypeDef cfg)
  65:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
  26              		.loc 1 65 0
  27              		.cfi_startproc
  28              		@ args = 36, pretend = 16, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
  32 0000 84B0     		sub	sp, sp, #16
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35 0002 01A8     		add	r0, sp, #4
  36              	.LVL1:
  37 0004 80E80E00 		stm	r0, {r1, r2, r3}
  66:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
  67:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   UNUSED(USBx);
  68:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   UNUSED(cfg);
  69:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  70:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
  71:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               only by USB OTG FS peripheral.
  72:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
  73:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****    */
  74:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  75:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
  76:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
  38              		.loc 1 76 0
  39 0008 0020     		movs	r0, #0
ARM GAS  /tmp/ccAWfOy4.s 			page 3


  40 000a 04B0     		add	sp, sp, #16
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 0
  43 000c 7047     		bx	lr
  44              		.cfi_endproc
  45              	.LFE72:
  47              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
  48              		.align	1
  49              		.global	USB_EnableGlobalInt
  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  53              		.fpu softvfp
  55              	USB_EnableGlobalInt:
  56              	.LFB73:
  77:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  78:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
  79:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
  80:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
  81:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
  82:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
  83:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
  84:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_TypeDef *USBx)
  85:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
  57              		.loc 1 85 0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  62              	.LVL2:
  86:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t winterruptmask;
  87:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  88:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Clear pending interrupts */
  89:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->ISTR = 0U;
  63              		.loc 1 89 0
  64 0000 0023     		movs	r3, #0
  65 0002 A0F84430 		strh	r3, [r0, #68]	@ movhi
  66              	.LVL3:
  90:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  91:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Set winterruptmask variable */
  92:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   winterruptmask = USB_CNTR_CTRM  | USB_CNTR_WKUPM |
  93:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****                    USB_CNTR_SUSPM | USB_CNTR_ERRM |
  94:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****                    USB_CNTR_SOFM | USB_CNTR_ESOFM |
  95:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****                    USB_CNTR_RESETM;
  96:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
  97:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Set interrupt mask */
  98:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR = (uint16_t)winterruptmask;
  67              		.loc 1 98 0
  68 0006 4FF43F42 		mov	r2, #48896
  69 000a A0F84020 		strh	r2, [r0, #64]	@ movhi
  99:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 100:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 101:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
  70              		.loc 1 101 0
  71 000e 1846     		mov	r0, r3
  72              	.LVL4:
  73 0010 7047     		bx	lr
ARM GAS  /tmp/ccAWfOy4.s 			page 4


  74              		.cfi_endproc
  75              	.LFE73:
  77              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
  78              		.align	1
  79              		.global	USB_DisableGlobalInt
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu softvfp
  85              	USB_DisableGlobalInt:
  86              	.LFB74:
 102:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 103:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 104:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 105:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 106:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 107:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 108:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 109:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_TypeDef *USBx)
 110:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
  87              		.loc 1 110 0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91              		@ link register save eliminated.
  92              	.LVL5:
 111:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t winterruptmask;
 112:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 113:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Set winterruptmask variable */
 114:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   winterruptmask = USB_CNTR_CTRM  | USB_CNTR_WKUPM |
 115:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****                    USB_CNTR_SUSPM | USB_CNTR_ERRM |
 116:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****                    USB_CNTR_SOFM | USB_CNTR_ESOFM |
 117:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****                    USB_CNTR_RESETM;
 118:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 119:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Clear interrupt mask */
 120:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR &= (uint16_t)(~winterruptmask);
  93              		.loc 1 120 0
  94 0000 B0F84030 		ldrh	r3, [r0, #64]
  95 0004 23F47C53 		bic	r3, r3, #16128
  96 0008 5B04     		lsls	r3, r3, #17
  97 000a 5B0C     		lsrs	r3, r3, #17
  98 000c A0F84030 		strh	r3, [r0, #64]	@ movhi
 121:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 122:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 123:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
  99              		.loc 1 123 0
 100 0010 0020     		movs	r0, #0
 101              	.LVL6:
 102 0012 7047     		bx	lr
 103              		.cfi_endproc
 104              	.LFE74:
 106              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 107              		.align	1
 108              		.global	USB_SetCurrentMode
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
ARM GAS  /tmp/ccAWfOy4.s 			page 5


 112              		.fpu softvfp
 114              	USB_SetCurrentMode:
 115              	.LFB75:
 124:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 125:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 126:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 127:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 128:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  mode current core mode
 129:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *          This parameter can be one of the these values:
 130:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 131:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 132:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 133:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_TypeDef *USBx, USB_ModeTypeDef mode)
 134:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 116              		.loc 1 134 0
 117              		.cfi_startproc
 118              		@ args = 0, pretend = 0, frame = 0
 119              		@ frame_needed = 0, uses_anonymous_args = 0
 120              		@ link register save eliminated.
 121              	.LVL7:
 135:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 136:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   UNUSED(USBx);
 137:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   UNUSED(mode);
 138:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 139:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
 140:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               only by USB OTG FS peripheral.
 141:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
 142:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****    */
 143:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 144:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 122              		.loc 1 144 0
 123 0000 0020     		movs	r0, #0
 124              	.LVL8:
 125 0002 7047     		bx	lr
 126              		.cfi_endproc
 127              	.LFE75:
 129              		.section	.text.USB_DevInit,"ax",%progbits
 130              		.align	1
 131              		.global	USB_DevInit
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu softvfp
 137              	USB_DevInit:
 138              	.LFB76:
 145:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 146:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 147:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB controller registers
 148:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *         for device mode
 149:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 150:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  cfg  pointer to a USB_CfgTypeDef structure that contains
 151:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 152:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 153:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 154:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_TypeDef *USBx, USB_CfgTypeDef cfg)
 155:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 139              		.loc 1 155 0
ARM GAS  /tmp/ccAWfOy4.s 			page 6


 140              		.cfi_startproc
 141              		@ args = 36, pretend = 16, frame = 0
 142              		@ frame_needed = 0, uses_anonymous_args = 0
 143              		@ link register save eliminated.
 144              	.LVL9:
 145 0000 84B0     		sub	sp, sp, #16
 146              	.LCFI2:
 147              		.cfi_def_cfa_offset 16
 148 0002 10B4     		push	{r4}
 149              	.LCFI3:
 150              		.cfi_def_cfa_offset 20
 151              		.cfi_offset 4, -20
 152 0004 02AC     		add	r4, sp, #8
 153 0006 84E80E00 		stm	r4, {r1, r2, r3}
 156:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 157:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   UNUSED(cfg);
 158:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 159:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Init Device */
 160:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* CNTR_FRES = 1 */
 161:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR = (uint16_t)USB_CNTR_FRES;
 154              		.loc 1 161 0
 155 000a 0123     		movs	r3, #1
 156 000c A0F84030 		strh	r3, [r0, #64]	@ movhi
 162:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 163:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* CNTR_FRES = 0 */
 164:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR = 0U;
 157              		.loc 1 164 0
 158 0010 0023     		movs	r3, #0
 159 0012 A0F84030 		strh	r3, [r0, #64]	@ movhi
 165:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 166:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Clear pending interrupts */
 167:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->ISTR = 0U;
 160              		.loc 1 167 0
 161 0016 A0F84430 		strh	r3, [r0, #68]	@ movhi
 168:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 169:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /*Set Btable Address*/
 170:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->BTABLE = BTABLE_ADDRESS;
 162              		.loc 1 170 0
 163 001a A0F85030 		strh	r3, [r0, #80]	@ movhi
 171:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 172:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 173:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 164              		.loc 1 173 0
 165 001e 1846     		mov	r0, r3
 166              	.LVL10:
 167 0020 10BC     		pop	{r4}
 168              	.LCFI4:
 169              		.cfi_restore 4
 170              		.cfi_def_cfa_offset 16
 171 0022 04B0     		add	sp, sp, #16
 172              	.LCFI5:
 173              		.cfi_def_cfa_offset 0
 174 0024 7047     		bx	lr
 175              		.cfi_endproc
 176              	.LFE76:
 178              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 179              		.align	1
ARM GAS  /tmp/ccAWfOy4.s 			page 7


 180              		.global	USB_ActivateEndpoint
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 184              		.fpu softvfp
 186              	USB_ActivateEndpoint:
 187              	.LFB77:
 174:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 175:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED)
 176:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 177:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 178:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 179:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 180:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 181:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 182:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_TypeDef *USBx, USB_EPTypeDef *ep)
 183:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 188              		.loc 1 183 0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 0
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		@ link register save eliminated.
 193              	.LVL11:
 194 0000 30B4     		push	{r4, r5}
 195              	.LCFI6:
 196              		.cfi_def_cfa_offset 8
 197              		.cfi_offset 4, -8
 198              		.cfi_offset 5, -4
 199 0002 0346     		mov	r3, r0
 200              	.LVL12:
 184:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 185:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint16_t wEpRegVal;
 186:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 187:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   wEpRegVal = PCD_GET_ENDPOINT(USBx, ep->num) & USB_EP_T_MASK;
 201              		.loc 1 187 0
 202 0004 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 203 0006 30F82420 		ldrh	r2, [r0, r4, lsl #2]
 204 000a 92B2     		uxth	r2, r2
 205 000c 22F4EC42 		bic	r2, r2, #30208
 206 0010 22F07002 		bic	r2, r2, #112
 207 0014 92B2     		uxth	r2, r2
 208              	.LVL13:
 188:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 189:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* initialize Endpoint */
 190:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   switch (ep->type)
 209              		.loc 1 190 0
 210 0016 C878     		ldrb	r0, [r1, #3]	@ zero_extendqisi2
 211              	.LVL14:
 212 0018 0328     		cmp	r0, #3
 213 001a 5CD8     		bhi	.L33
 214 001c DFE800F0 		tbb	[pc, r0]
 215              	.L11:
 216 0020 4F       		.byte	(.L10-.L11)/2
 217 0021 57       		.byte	(.L12-.L11)/2
 218 0022 02       		.byte	(.L13-.L11)/2
 219 0023 53       		.byte	(.L14-.L11)/2
 220              		.p2align 1
ARM GAS  /tmp/ccAWfOy4.s 			page 8


 221              	.L13:
 184:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 222              		.loc 1 184 0
 223 0024 0020     		movs	r0, #0
 224              	.L9:
 225              	.LVL15:
 191:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 192:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     case EP_TYPE_CTRL:
 193:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       wEpRegVal |= USB_EP_CONTROL;
 194:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 195:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 196:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     case EP_TYPE_BULK:
 197:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       wEpRegVal |= USB_EP_BULK;
 198:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 199:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 200:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     case EP_TYPE_INTR:
 201:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       wEpRegVal |= USB_EP_INTERRUPT;
 202:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 203:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 204:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     case EP_TYPE_ISOC:
 205:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       wEpRegVal |= USB_EP_ISOCHRONOUS;
 206:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 207:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 208:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     default:
 209:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       ret = HAL_ERROR;
 210:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 211:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 212:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 213:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   PCD_SET_ENDPOINT(USBx, ep->num, (wEpRegVal | USB_EP_CTR_RX | USB_EP_CTR_TX));
 226              		.loc 1 213 0
 227 0026 48F28005 		movw	r5, #32896
 228 002a 2A43     		orrs	r2, r2, r5
 229              	.LVL16:
 230 002c 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 231              	.LBB2:
 214:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 215:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   PCD_SET_EP_ADDRESS(USBx, ep->num, ep->num);
 232              		.loc 1 215 0
 233 0030 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 234 0032 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 235 0036 92B2     		uxth	r2, r2
 236 0038 22F4E042 		bic	r2, r2, #28672
 237 003c 22F07002 		bic	r2, r2, #112
 238 0040 2243     		orrs	r2, r2, r4
 239              	.LVL17:
 240 0042 2A43     		orrs	r2, r2, r5
 241              	.LVL18:
 242 0044 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 243              	.LBE2:
 216:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 217:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if (ep->doublebuffer == 0U)
 244              		.loc 1 217 0
 245 0048 0A7B     		ldrb	r2, [r1, #12]	@ zero_extendqisi2
 246 004a 002A     		cmp	r2, #0
 247 004c 40F0B980 		bne	.L15
 218:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 219:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->is_in != 0U)
ARM GAS  /tmp/ccAWfOy4.s 			page 9


 248              		.loc 1 219 0
 249 0050 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 250 0052 002A     		cmp	r2, #0
 251 0054 50D0     		beq	.L16
 252              	.LVL19:
 253              	.LBB3:
 220:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 221:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /*Set the endpoint Transmit buffer address */
 222:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_ADDRESS(USBx, ep->num, ep->pmaadress);
 254              		.loc 1 222 0
 255 0056 B3F85020 		ldrh	r2, [r3, #80]
 256 005a 92B2     		uxth	r2, r2
 257 005c 1A44     		add	r2, r2, r3
 258              	.LVL20:
 259 005e 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 260 0060 02EB0412 		add	r2, r2, r4, lsl #4
 261              	.LVL21:
 262 0064 CC88     		ldrh	r4, [r1, #6]
 263 0066 24F00104 		bic	r4, r4, #1
 264 006a A4B2     		uxth	r4, r4
 265 006c A2F80044 		strh	r4, [r2, #1024]	@ movhi
 266              	.LBE3:
 267              	.LBB4:
 223:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 268              		.loc 1 223 0
 269 0070 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 270 0072 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 271              	.LVL22:
 272 0076 12F0400F 		tst	r2, #64
 273 007a 0CD0     		beq	.L17
 274              	.LBB5:
 275              		.loc 1 223 0 is_stmt 0 discriminator 1
 276 007c 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 277              	.LVL23:
 278 0080 92B2     		uxth	r2, r2
 279 0082 22F4E042 		bic	r2, r2, #28672
 280 0086 22F07002 		bic	r2, r2, #112
 281              	.LVL24:
 282 008a 42F40042 		orr	r2, r2, #32768
 283              	.LVL25:
 284 008e 42F0C002 		orr	r2, r2, #192
 285 0092 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 286              	.L17:
 287              	.LBE5:
 288              	.LBE4:
 224:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 225:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 289              		.loc 1 225 0 is_stmt 1
 290 0096 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 291 0098 012A     		cmp	r2, #1
 292 009a 1ED0     		beq	.L18
 293              	.LBB6:
 226:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 227:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
 228:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK);
 294              		.loc 1 228 0
 295 009c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
ARM GAS  /tmp/ccAWfOy4.s 			page 10


 296              	.LVL26:
 297 009e 33F82120 		ldrh	r2, [r3, r1, lsl #2]
 298 00a2 92B2     		uxth	r2, r2
 299 00a4 22F4E042 		bic	r2, r2, #28672
 300 00a8 22F04002 		bic	r2, r2, #64
 301              	.LVL27:
 302 00ac 82F02002 		eor	r2, r2, #32
 303              	.LVL28:
 304 00b0 42F40042 		orr	r2, r2, #32768
 305              	.LVL29:
 306 00b4 42F08002 		orr	r2, r2, #128
 307 00b8 23F82120 		strh	r2, [r3, r1, lsl #2]	@ movhi
 308              	.LBE6:
 309 00bc 66E0     		b	.L19
 310              	.LVL30:
 311              	.L10:
 193:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 312              		.loc 1 193 0
 313 00be 42F40072 		orr	r2, r2, #512
 314              	.LVL31:
 184:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint16_t wEpRegVal;
 315              		.loc 1 184 0
 316 00c2 0020     		movs	r0, #0
 194:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 317              		.loc 1 194 0
 318 00c4 AFE7     		b	.L9
 319              	.L14:
 201:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 320              		.loc 1 201 0
 321 00c6 42F4C062 		orr	r2, r2, #1536
 322              	.LVL32:
 184:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint16_t wEpRegVal;
 323              		.loc 1 184 0
 324 00ca 0020     		movs	r0, #0
 202:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 325              		.loc 1 202 0
 326 00cc ABE7     		b	.L9
 327              	.L12:
 205:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 328              		.loc 1 205 0
 329 00ce 42F48062 		orr	r2, r2, #1024
 330              	.LVL33:
 184:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint16_t wEpRegVal;
 331              		.loc 1 184 0
 332 00d2 0020     		movs	r0, #0
 206:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 333              		.loc 1 206 0
 334 00d4 A7E7     		b	.L9
 335              	.L33:
 209:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       break;
 336              		.loc 1 209 0
 337 00d6 0120     		movs	r0, #1
 338 00d8 A5E7     		b	.L9
 339              	.LVL34:
 340              	.L18:
 341              	.LBB7:
 229:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
ARM GAS  /tmp/ccAWfOy4.s 			page 11


 230:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       else
 231:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 232:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Configure TX Endpoint to disabled state */
 233:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 342              		.loc 1 233 0
 343 00da 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 344              	.LVL35:
 345 00dc 33F82120 		ldrh	r2, [r3, r1, lsl #2]
 346 00e0 92B2     		uxth	r2, r2
 347 00e2 22F4E042 		bic	r2, r2, #28672
 348 00e6 22F04002 		bic	r2, r2, #64
 349              	.LVL36:
 350 00ea 42F40042 		orr	r2, r2, #32768
 351              	.LVL37:
 352 00ee 42F08002 		orr	r2, r2, #128
 353 00f2 23F82120 		strh	r2, [r3, r1, lsl #2]	@ movhi
 354 00f6 49E0     		b	.L19
 355              	.LVL38:
 356              	.L16:
 357              	.LBE7:
 358              	.LBB8:
 234:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 235:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 236:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 237:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 238:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /*Set the endpoint Receive buffer address */
 239:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_ADDRESS(USBx, ep->num, ep->pmaadress);
 359              		.loc 1 239 0
 360 00f8 B3F85020 		ldrh	r2, [r3, #80]
 361 00fc 92B2     		uxth	r2, r2
 362 00fe 1A44     		add	r2, r2, r3
 363              	.LVL39:
 364 0100 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 365 0102 02EB0412 		add	r2, r2, r4, lsl #4
 366              	.LVL40:
 367 0106 CC88     		ldrh	r4, [r1, #6]
 368 0108 24F00104 		bic	r4, r4, #1
 369 010c A4B2     		uxth	r4, r4
 370 010e A2F80844 		strh	r4, [r2, #1032]	@ movhi
 371              	.LVL41:
 372              	.LBE8:
 373              	.LBB9:
 240:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 241:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /*Set the endpoint Receive buffer counter*/
 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_CNT(USBx, ep->num, ep->maxpacket);
 374              		.loc 1 242 0
 375 0112 B3F85020 		ldrh	r2, [r3, #80]
 376              	.LVL42:
 377 0116 92B2     		uxth	r2, r2
 378 0118 1A44     		add	r2, r2, r3
 379              	.LVL43:
 380 011a 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 381 011c 02EB0412 		add	r2, r2, r4, lsl #4
 382              	.LVL44:
 383              	.LBB10:
 384 0120 0C69     		ldr	r4, [r1, #16]
 385 0122 ACBB     		cbnz	r4, .L20
ARM GAS  /tmp/ccAWfOy4.s 			page 12


 386              		.loc 1 242 0 is_stmt 0 discriminator 1
 387 0124 B2F80C44 		ldrh	r4, [r2, #1036]
 388 0128 A4B2     		uxth	r4, r4
 389 012a 24F4F844 		bic	r4, r4, #31744
 390 012e A4B2     		uxth	r4, r4
 391 0130 A2F80C44 		strh	r4, [r2, #1036]	@ movhi
 392 0134 B2F80C44 		ldrh	r4, [r2, #1036]
 393 0138 6FEA4444 		mvn	r4, r4, lsl #17
 394 013c 6FEA5444 		mvn	r4, r4, lsr #17
 395 0140 A4B2     		uxth	r4, r4
 396 0142 A2F80C44 		strh	r4, [r2, #1036]	@ movhi
 397              	.L21:
 398              	.LBE10:
 399              	.LBE9:
 400              	.LBB12:
 243:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 401              		.loc 1 243 0 is_stmt 1
 402 0146 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 403 0148 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 404              	.LVL45:
 405 014c 12F4804F 		tst	r2, #16384
 406 0150 0CD0     		beq	.L25
 407              	.LBB13:
 408              		.loc 1 243 0 is_stmt 0 discriminator 1
 409 0152 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 410              	.LVL46:
 411 0156 92B2     		uxth	r2, r2
 412 0158 22F4E042 		bic	r2, r2, #28672
 413 015c 22F07002 		bic	r2, r2, #112
 414              	.LVL47:
 415 0160 42F44042 		orr	r2, r2, #49152
 416              	.LVL48:
 417 0164 42F08002 		orr	r2, r2, #128
 418 0168 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 419              	.L25:
 420              	.LBE13:
 421              	.LBE12:
 422              	.LBB14:
 244:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 245:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Configure VALID status for the Endpoint*/
 246:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 423              		.loc 1 246 0 is_stmt 1
 424 016c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 425              	.LVL49:
 426 016e 33F82120 		ldrh	r2, [r3, r1, lsl #2]
 427 0172 92B2     		uxth	r2, r2
 428 0174 22F48042 		bic	r2, r2, #16384
 429 0178 22F07002 		bic	r2, r2, #112
 430              	.LVL50:
 431 017c 82F44052 		eor	r2, r2, #12288
 432              	.LVL51:
 433 0180 42F40042 		orr	r2, r2, #32768
 434              	.LVL52:
 435 0184 42F08002 		orr	r2, r2, #128
 436 0188 23F82120 		strh	r2, [r3, r1, lsl #2]	@ movhi
 437              	.L19:
 438              	.LBE14:
ARM GAS  /tmp/ccAWfOy4.s 			page 13


 247:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 248:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 249:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /*Double Buffer*/
 250:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   else
 251:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 252:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     /* Set the endpoint as double buffered */
 253:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     PCD_SET_EP_DBUF(USBx, ep->num);
 254:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 255:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     /* Set buffer address for double buffered mode */
 256:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     PCD_SET_EP_DBUF_ADDR(USBx, ep->num, ep->pmaaddr0, ep->pmaaddr1);
 257:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 258:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->is_in == 0U)
 259:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 260:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT */
 261:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 262:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 263:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 264:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 265:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 266:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 267:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 268:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 269:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT */
 270:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 271:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 272:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 273:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 274:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 275:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
 276:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK);
 277:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 278:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       else
 279:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 280:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Configure TX Endpoint to disabled state */
 281:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 282:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 283:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 284:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 285:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 286:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 287:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 288:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return ret;
 289:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 439              		.loc 1 289 0
 440 018c 30BC     		pop	{r4, r5}
 441              	.LCFI7:
 442              		.cfi_remember_state
 443              		.cfi_restore 5
 444              		.cfi_restore 4
 445              		.cfi_def_cfa_offset 0
 446 018e 7047     		bx	lr
 447              	.LVL53:
 448              	.L20:
 449              	.LCFI8:
 450              		.cfi_restore_state
 451              	.LBB15:
 452              	.LBB11:
ARM GAS  /tmp/ccAWfOy4.s 			page 14


 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 453              		.loc 1 242 0 discriminator 2
 454 0190 3E2C     		cmp	r4, #62
 455 0192 09D8     		bhi	.L22
 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 456              		.loc 1 242 0 is_stmt 0 discriminator 3
 457 0194 6508     		lsrs	r5, r4, #1
 458              	.LVL54:
 459 0196 14F0010F 		tst	r4, #1
 460 019a 00D0     		beq	.L23
 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 461              		.loc 1 242 0 discriminator 5
 462 019c 0135     		adds	r5, r5, #1
 463              	.LVL55:
 464              	.L23:
 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 465              		.loc 1 242 0 discriminator 7
 466 019e AD02     		lsls	r5, r5, #10
 467              	.LVL56:
 468 01a0 ADB2     		uxth	r5, r5
 469 01a2 A2F80C54 		strh	r5, [r2, #1036]	@ movhi
 470 01a6 CEE7     		b	.L21
 471              	.L22:
 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 472              		.loc 1 242 0 discriminator 4
 473 01a8 6509     		lsrs	r5, r4, #5
 474              	.LVL57:
 475 01aa 14F01F0F 		tst	r4, #31
 476 01ae 00D1     		bne	.L24
 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 477              		.loc 1 242 0 discriminator 8
 478 01b0 013D     		subs	r5, r5, #1
 479              	.LVL58:
 480              	.L24:
 242:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 481              		.loc 1 242 0 discriminator 10
 482 01b2 6FEAC564 		mvn	r4, r5, lsl #27
 483 01b6 6FEA5444 		mvn	r4, r4, lsr #17
 484 01ba A4B2     		uxth	r4, r4
 485 01bc A2F80C44 		strh	r4, [r2, #1036]	@ movhi
 486 01c0 C1E7     		b	.L21
 487              	.LVL59:
 488              	.L15:
 489              	.LBE11:
 490              	.LBE15:
 491              	.LBB16:
 253:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 492              		.loc 1 253 0 is_stmt 1
 493 01c2 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 494 01c4 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 495 01c8 92B2     		uxth	r2, r2
 496 01ca 22F4E042 		bic	r2, r2, #28672
 497 01ce 22F07002 		bic	r2, r2, #112
 498              	.LVL60:
 499 01d2 42F40142 		orr	r2, r2, #33024
 500              	.LVL61:
 501 01d6 42F08002 		orr	r2, r2, #128
ARM GAS  /tmp/ccAWfOy4.s 			page 15


 502 01da 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 503              	.LVL62:
 504              	.LBE16:
 505              	.LBB17:
 256:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 506              		.loc 1 256 0
 507 01de B3F85020 		ldrh	r2, [r3, #80]
 508 01e2 92B2     		uxth	r2, r2
 509 01e4 1A44     		add	r2, r2, r3
 510              	.LVL63:
 511 01e6 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 512 01e8 02EB0412 		add	r2, r2, r4, lsl #4
 513              	.LVL64:
 514 01ec 0C89     		ldrh	r4, [r1, #8]
 515 01ee 24F00104 		bic	r4, r4, #1
 516 01f2 A4B2     		uxth	r4, r4
 517 01f4 A2F80044 		strh	r4, [r2, #1024]	@ movhi
 518              	.LVL65:
 519              	.LBE17:
 520              	.LBB18:
 521 01f8 B3F85020 		ldrh	r2, [r3, #80]
 522              	.LVL66:
 523 01fc 92B2     		uxth	r2, r2
 524 01fe 1A44     		add	r2, r2, r3
 525              	.LVL67:
 526 0200 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 527 0202 02EB0412 		add	r2, r2, r4, lsl #4
 528              	.LVL68:
 529 0206 4C89     		ldrh	r4, [r1, #10]
 530 0208 24F00104 		bic	r4, r4, #1
 531 020c A4B2     		uxth	r4, r4
 532 020e A2F80844 		strh	r4, [r2, #1032]	@ movhi
 533              	.LBE18:
 258:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 534              		.loc 1 258 0
 535 0212 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 536              	.LVL69:
 537 0214 002A     		cmp	r2, #0
 538 0216 40D1     		bne	.L26
 539              	.LBB19:
 261:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 540              		.loc 1 261 0
 541 0218 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 542 021a 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 543              	.LVL70:
 544 021e 12F4804F 		tst	r2, #16384
 545 0222 0CD0     		beq	.L27
 546              	.LBB20:
 261:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 547              		.loc 1 261 0 is_stmt 0 discriminator 1
 548 0224 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 549              	.LVL71:
 550 0228 92B2     		uxth	r2, r2
 551 022a 22F4E042 		bic	r2, r2, #28672
 552 022e 22F07002 		bic	r2, r2, #112
 553              	.LVL72:
 554 0232 42F44042 		orr	r2, r2, #49152
ARM GAS  /tmp/ccAWfOy4.s 			page 16


 555              	.LVL73:
 556 0236 42F08002 		orr	r2, r2, #128
 557 023a 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 558              	.L27:
 559              	.LBE20:
 560              	.LBE19:
 561              	.LBB21:
 262:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 562              		.loc 1 262 0 is_stmt 1
 563 023e 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 564 0240 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 565              	.LVL74:
 566 0244 12F0400F 		tst	r2, #64
 567 0248 0CD0     		beq	.L28
 568              	.LBB22:
 262:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 569              		.loc 1 262 0 is_stmt 0 discriminator 1
 570 024a 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 571              	.LVL75:
 572 024e 92B2     		uxth	r2, r2
 573 0250 22F4E042 		bic	r2, r2, #28672
 574 0254 22F07002 		bic	r2, r2, #112
 575              	.LVL76:
 576 0258 42F40042 		orr	r2, r2, #32768
 577              	.LVL77:
 578 025c 42F0C002 		orr	r2, r2, #192
 579 0260 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 580              	.L28:
 581              	.LBE22:
 582              	.LBE21:
 583              	.LBB23:
 264:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 584              		.loc 1 264 0 is_stmt 1
 585 0264 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 586 0266 33F82520 		ldrh	r2, [r3, r5, lsl #2]
 587 026a 92B2     		uxth	r2, r2
 588 026c 22F48042 		bic	r2, r2, #16384
 589 0270 22F07002 		bic	r2, r2, #112
 590              	.LVL78:
 591 0274 82F44052 		eor	r2, r2, #12288
 592              	.LVL79:
 593 0278 48F28004 		movw	r4, #32896
 594 027c 2243     		orrs	r2, r2, r4
 595              	.LVL80:
 596 027e 23F82520 		strh	r2, [r3, r5, lsl #2]	@ movhi
 597              	.LBE23:
 598              	.LBB24:
 265:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 599              		.loc 1 265 0
 600 0282 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 601              	.LVL81:
 602 0284 33F82120 		ldrh	r2, [r3, r1, lsl #2]
 603 0288 92B2     		uxth	r2, r2
 604 028a 22F4E042 		bic	r2, r2, #28672
 605 028e 22F04002 		bic	r2, r2, #64
 606              	.LVL82:
 607 0292 2243     		orrs	r2, r2, r4
ARM GAS  /tmp/ccAWfOy4.s 			page 17


 608              	.LVL83:
 609 0294 23F82120 		strh	r2, [r3, r1, lsl #2]	@ movhi
 610              	.LBE24:
 611 0298 78E7     		b	.L19
 612              	.LVL84:
 613              	.L26:
 614              	.LBB25:
 270:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 615              		.loc 1 270 0
 616 029a 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 617 029c 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 618              	.LVL85:
 619 02a0 12F4804F 		tst	r2, #16384
 620 02a4 0CD0     		beq	.L29
 621              	.LBB26:
 270:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 622              		.loc 1 270 0 is_stmt 0 discriminator 1
 623 02a6 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 624              	.LVL86:
 625 02aa 92B2     		uxth	r2, r2
 626 02ac 22F4E042 		bic	r2, r2, #28672
 627 02b0 22F07002 		bic	r2, r2, #112
 628              	.LVL87:
 629 02b4 42F44042 		orr	r2, r2, #49152
 630              	.LVL88:
 631 02b8 42F08002 		orr	r2, r2, #128
 632 02bc 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 633              	.L29:
 634              	.LBE26:
 635              	.LBE25:
 636              	.LBB27:
 271:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 637              		.loc 1 271 0 is_stmt 1
 638 02c0 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 639 02c2 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 640              	.LVL89:
 641 02c6 12F0400F 		tst	r2, #64
 642 02ca 0CD0     		beq	.L30
 643              	.LBB28:
 271:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 644              		.loc 1 271 0 is_stmt 0 discriminator 1
 645 02cc 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 646              	.LVL90:
 647 02d0 92B2     		uxth	r2, r2
 648 02d2 22F4E042 		bic	r2, r2, #28672
 649 02d6 22F07002 		bic	r2, r2, #112
 650              	.LVL91:
 651 02da 42F40042 		orr	r2, r2, #32768
 652              	.LVL92:
 653 02de 42F0C002 		orr	r2, r2, #192
 654 02e2 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 655              	.L30:
 656              	.LBE28:
 657              	.LBE27:
 273:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 658              		.loc 1 273 0 is_stmt 1
 659 02e6 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccAWfOy4.s 			page 18


 660 02e8 012A     		cmp	r2, #1
 661 02ea 1ED0     		beq	.L31
 662              	.LBB29:
 276:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 663              		.loc 1 276 0
 664 02ec 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 665 02ee 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 666 02f2 92B2     		uxth	r2, r2
 667 02f4 22F4E042 		bic	r2, r2, #28672
 668 02f8 22F04002 		bic	r2, r2, #64
 669              	.LVL93:
 670 02fc 82F02002 		eor	r2, r2, #32
 671              	.LVL94:
 672 0300 42F40042 		orr	r2, r2, #32768
 673              	.LVL95:
 674 0304 42F08002 		orr	r2, r2, #128
 675 0308 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 676              	.L32:
 677              	.LBE29:
 678              	.LBB30:
 284:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 679              		.loc 1 284 0
 680 030c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 681              	.LVL96:
 682 030e 33F82120 		ldrh	r2, [r3, r1, lsl #2]
 683 0312 92B2     		uxth	r2, r2
 684 0314 22F48042 		bic	r2, r2, #16384
 685 0318 22F07002 		bic	r2, r2, #112
 686              	.LVL97:
 687 031c 42F40042 		orr	r2, r2, #32768
 688              	.LVL98:
 689 0320 42F08002 		orr	r2, r2, #128
 690 0324 23F82120 		strh	r2, [r3, r1, lsl #2]	@ movhi
 691 0328 30E7     		b	.L19
 692              	.LVL99:
 693              	.L31:
 694              	.LBE30:
 695              	.LBB31:
 281:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 696              		.loc 1 281 0
 697 032a 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 698 032c 33F82420 		ldrh	r2, [r3, r4, lsl #2]
 699 0330 92B2     		uxth	r2, r2
 700 0332 22F4E042 		bic	r2, r2, #28672
 701 0336 22F04002 		bic	r2, r2, #64
 702              	.LVL100:
 703 033a 42F40042 		orr	r2, r2, #32768
 704              	.LVL101:
 705 033e 42F08002 		orr	r2, r2, #128
 706 0342 23F82420 		strh	r2, [r3, r4, lsl #2]	@ movhi
 707 0346 E1E7     		b	.L32
 708              	.LBE31:
 709              		.cfi_endproc
 710              	.LFE77:
 712              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 713              		.align	1
 714              		.global	USB_DeactivateEndpoint
ARM GAS  /tmp/ccAWfOy4.s 			page 19


 715              		.syntax unified
 716              		.thumb
 717              		.thumb_func
 718              		.fpu softvfp
 720              	USB_DeactivateEndpoint:
 721              	.LFB78:
 290:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 291:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 292:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 293:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 294:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 295:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 296:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 297:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_TypeDef *USBx, USB_EPTypeDef *ep)
 298:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 722              		.loc 1 298 0
 723              		.cfi_startproc
 724              		@ args = 0, pretend = 0, frame = 0
 725              		@ frame_needed = 0, uses_anonymous_args = 0
 726              		@ link register save eliminated.
 727              	.LVL102:
 299:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if (ep->doublebuffer == 0U)
 728              		.loc 1 299 0
 729 0000 0B7B     		ldrb	r3, [r1, #12]	@ zero_extendqisi2
 730 0002 002B     		cmp	r3, #0
 731 0004 46D1     		bne	.L36
 300:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 301:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->is_in != 0U)
 732              		.loc 1 301 0
 733 0006 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 734 0008 13B3     		cbz	r3, .L37
 735              	.LBB32:
 302:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 303:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 736              		.loc 1 303 0
 737 000a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 738 000c 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 739              	.LVL103:
 740 0010 13F0400F 		tst	r3, #64
 741 0014 0CD0     		beq	.L38
 742              	.LBB33:
 743              		.loc 1 303 0 is_stmt 0 discriminator 1
 744 0016 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 745              	.LVL104:
 746 001a 9BB2     		uxth	r3, r3
 747 001c 23F4E043 		bic	r3, r3, #28672
 748 0020 23F07003 		bic	r3, r3, #112
 749              	.LVL105:
 750 0024 43F40043 		orr	r3, r3, #32768
 751              	.LVL106:
 752 0028 43F0C003 		orr	r3, r3, #192
 753 002c 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 754              	.L38:
 755              	.LBE33:
 756              	.LBE32:
 757              	.LBB34:
 304:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
ARM GAS  /tmp/ccAWfOy4.s 			page 20


 305:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 306:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 758              		.loc 1 306 0 is_stmt 1
 759 0030 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 760 0032 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 761 0036 9BB2     		uxth	r3, r3
 762 0038 23F4E043 		bic	r3, r3, #28672
 763 003c 23F04003 		bic	r3, r3, #64
 764              	.LVL107:
 765 0040 43F40043 		orr	r3, r3, #32768
 766              	.LVL108:
 767 0044 43F08003 		orr	r3, r3, #128
 768 0048 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 769              	.L47:
 770              	.LBE34:
 307:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 308:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 309:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 310:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 311:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 312:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 313:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 314:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 315:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 316:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /*Double Buffer*/
 317:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   else
 318:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 319:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->is_in == 0U)
 320:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 321:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
 322:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 323:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 324:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 325:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Reset value of the data toggle bits for the endpoint out*/
 326:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_TX_DTOG(USBx, ep->num);
 327:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 328:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 329:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 330:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 331:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 332:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 333:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
 334:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 335:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 336:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 337:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 338:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
 339:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 340:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 341:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 342:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 343:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 344:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 345:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 771              		.loc 1 345 0
 772 004c 0020     		movs	r0, #0
 773              	.LVL109:
ARM GAS  /tmp/ccAWfOy4.s 			page 21


 774 004e 7047     		bx	lr
 775              	.LVL110:
 776              	.L37:
 777              	.LBB35:
 310:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 778              		.loc 1 310 0
 779 0050 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 780 0052 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 781              	.LVL111:
 782 0056 13F4804F 		tst	r3, #16384
 783 005a 0CD0     		beq	.L40
 784              	.LBB36:
 310:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 785              		.loc 1 310 0 is_stmt 0 discriminator 1
 786 005c 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 787              	.LVL112:
 788 0060 9BB2     		uxth	r3, r3
 789 0062 23F4E043 		bic	r3, r3, #28672
 790 0066 23F07003 		bic	r3, r3, #112
 791              	.LVL113:
 792 006a 43F44043 		orr	r3, r3, #49152
 793              	.LVL114:
 794 006e 43F08003 		orr	r3, r3, #128
 795 0072 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 796              	.L40:
 797              	.LBE36:
 798              	.LBE35:
 799              	.LBB37:
 313:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 800              		.loc 1 313 0 is_stmt 1
 801 0076 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 802 0078 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 803 007c 9BB2     		uxth	r3, r3
 804 007e 23F48043 		bic	r3, r3, #16384
 805 0082 23F07003 		bic	r3, r3, #112
 806              	.LVL115:
 807 0086 43F40043 		orr	r3, r3, #32768
 808              	.LVL116:
 809 008a 43F08003 		orr	r3, r3, #128
 810 008e 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 811 0092 DBE7     		b	.L47
 812              	.L36:
 813              	.LBE37:
 298:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if (ep->doublebuffer == 0U)
 814              		.loc 1 298 0
 815 0094 10B4     		push	{r4}
 816              	.LCFI9:
 817              		.cfi_def_cfa_offset 4
 818              		.cfi_offset 4, -4
 319:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 819              		.loc 1 319 0
 820 0096 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 821 0098 002B     		cmp	r3, #0
 822 009a 4ED1     		bne	.L41
 823              	.LBB38:
 322:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 824              		.loc 1 322 0
ARM GAS  /tmp/ccAWfOy4.s 			page 22


 825 009c 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 826 009e 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 827              	.LVL117:
 828 00a2 13F4804F 		tst	r3, #16384
 829 00a6 0CD0     		beq	.L42
 830              	.LBB39:
 322:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 831              		.loc 1 322 0 is_stmt 0 discriminator 1
 832 00a8 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 833              	.LVL118:
 834 00ac 9BB2     		uxth	r3, r3
 835 00ae 23F4E043 		bic	r3, r3, #28672
 836 00b2 23F07003 		bic	r3, r3, #112
 837              	.LVL119:
 838 00b6 43F44043 		orr	r3, r3, #49152
 839              	.LVL120:
 840 00ba 43F08003 		orr	r3, r3, #128
 841 00be 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 842              	.L42:
 843              	.LBE39:
 844              	.LBE38:
 845              	.LBB40:
 323:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 846              		.loc 1 323 0 is_stmt 1
 847 00c2 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 848 00c4 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 849              	.LVL121:
 850 00c8 13F0400F 		tst	r3, #64
 851 00cc 0CD0     		beq	.L43
 852              	.LBB41:
 323:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 853              		.loc 1 323 0 is_stmt 0 discriminator 1
 854 00ce 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 855              	.LVL122:
 856 00d2 9BB2     		uxth	r3, r3
 857 00d4 23F4E043 		bic	r3, r3, #28672
 858 00d8 23F07003 		bic	r3, r3, #112
 859              	.LVL123:
 860 00dc 43F40043 		orr	r3, r3, #32768
 861              	.LVL124:
 862 00e0 43F0C003 		orr	r3, r3, #192
 863 00e4 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 864              	.L43:
 865              	.LBE41:
 866              	.LBE40:
 867              	.LBB42:
 326:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 868              		.loc 1 326 0 is_stmt 1
 869 00e8 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 870 00ea 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 871 00ee 9BB2     		uxth	r3, r3
 872 00f0 23F4E043 		bic	r3, r3, #28672
 873 00f4 23F07003 		bic	r3, r3, #112
 874              	.LVL125:
 875 00f8 43F40043 		orr	r3, r3, #32768
 876              	.LVL126:
 877 00fc 43F0C003 		orr	r3, r3, #192
ARM GAS  /tmp/ccAWfOy4.s 			page 23


 878 0100 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 879              	.LBE42:
 880              	.LBB43:
 328:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 881              		.loc 1 328 0
 882 0104 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 883 0106 30F82320 		ldrh	r2, [r0, r3, lsl #2]
 884 010a 92B2     		uxth	r2, r2
 885 010c 22F48042 		bic	r2, r2, #16384
 886 0110 22F07002 		bic	r2, r2, #112
 887              	.LVL127:
 888 0114 48F28004 		movw	r4, #32896
 889 0118 2243     		orrs	r2, r2, r4
 890              	.LVL128:
 891 011a 20F82320 		strh	r2, [r0, r3, lsl #2]	@ movhi
 892              	.LBE43:
 893              	.LBB44:
 329:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 894              		.loc 1 329 0
 895 011e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 896 0120 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 897 0124 9BB2     		uxth	r3, r3
 898 0126 23F4E043 		bic	r3, r3, #28672
 899 012a 23F04003 		bic	r3, r3, #64
 900              	.LVL129:
 901 012e 2343     		orrs	r3, r3, r4
 902              	.LVL130:
 903 0130 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 904              	.L39:
 905              	.LBE44:
 906              		.loc 1 345 0
 907 0134 0020     		movs	r0, #0
 908              	.LVL131:
 909 0136 10BC     		pop	{r4}
 910              	.LCFI10:
 911              		.cfi_remember_state
 912              		.cfi_restore 4
 913              		.cfi_def_cfa_offset 0
 914 0138 7047     		bx	lr
 915              	.LVL132:
 916              	.L41:
 917              	.LCFI11:
 918              		.cfi_restore_state
 919              	.LBB45:
 334:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 920              		.loc 1 334 0
 921 013a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 922 013c 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 923              	.LVL133:
 924 0140 13F4804F 		tst	r3, #16384
 925 0144 0CD0     		beq	.L44
 926              	.LBB46:
 334:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 927              		.loc 1 334 0 is_stmt 0 discriminator 1
 928 0146 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 929              	.LVL134:
 930 014a 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccAWfOy4.s 			page 24


 931 014c 23F4E043 		bic	r3, r3, #28672
 932 0150 23F07003 		bic	r3, r3, #112
 933              	.LVL135:
 934 0154 43F44043 		orr	r3, r3, #49152
 935              	.LVL136:
 936 0158 43F08003 		orr	r3, r3, #128
 937 015c 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 938              	.L44:
 939              	.LBE46:
 940              	.LBE45:
 941              	.LBB47:
 335:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 942              		.loc 1 335 0 is_stmt 1
 943 0160 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 944 0162 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 945              	.LVL137:
 946 0166 13F0400F 		tst	r3, #64
 947 016a 0CD0     		beq	.L45
 948              	.LBB48:
 335:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 949              		.loc 1 335 0 is_stmt 0 discriminator 1
 950 016c 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 951              	.LVL138:
 952 0170 9BB2     		uxth	r3, r3
 953 0172 23F4E043 		bic	r3, r3, #28672
 954 0176 23F07003 		bic	r3, r3, #112
 955              	.LVL139:
 956 017a 43F40043 		orr	r3, r3, #32768
 957              	.LVL140:
 958 017e 43F0C003 		orr	r3, r3, #192
 959 0182 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 960              	.L45:
 961              	.LBE48:
 962              	.LBE47:
 963              	.LBB49:
 336:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 964              		.loc 1 336 0 is_stmt 1
 965 0186 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 966 0188 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 967 018c 9BB2     		uxth	r3, r3
 968 018e 23F4E043 		bic	r3, r3, #28672
 969 0192 23F07003 		bic	r3, r3, #112
 970              	.LVL141:
 971 0196 43F44043 		orr	r3, r3, #49152
 972              	.LVL142:
 973 019a 43F08003 		orr	r3, r3, #128
 974 019e 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 975              	.LBE49:
 976              	.LBB50:
 339:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 977              		.loc 1 339 0
 978 01a2 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 979 01a4 30F82320 		ldrh	r2, [r0, r3, lsl #2]
 980 01a8 92B2     		uxth	r2, r2
 981 01aa 22F4E042 		bic	r2, r2, #28672
 982 01ae 22F04002 		bic	r2, r2, #64
 983              	.LVL143:
ARM GAS  /tmp/ccAWfOy4.s 			page 25


 984 01b2 48F28004 		movw	r4, #32896
 985 01b6 2243     		orrs	r2, r2, r4
 986              	.LVL144:
 987 01b8 20F82320 		strh	r2, [r0, r3, lsl #2]	@ movhi
 988              	.LBE50:
 989              	.LBB51:
 340:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 990              		.loc 1 340 0
 991 01bc 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 992 01be 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 993 01c2 9BB2     		uxth	r3, r3
 994 01c4 23F48043 		bic	r3, r3, #16384
 995 01c8 23F07003 		bic	r3, r3, #112
 996              	.LVL145:
 997 01cc 2343     		orrs	r3, r3, r4
 998              	.LVL146:
 999 01ce 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1000 01d2 AFE7     		b	.L39
 1001              	.LBE51:
 1002              		.cfi_endproc
 1003              	.LFE78:
 1005              		.section	.text.USB_EPSetStall,"ax",%progbits
 1006              		.align	1
 1007              		.global	USB_EPSetStall
 1008              		.syntax unified
 1009              		.thumb
 1010              		.thumb_func
 1011              		.fpu softvfp
 1013              	USB_EPSetStall:
 1014              	.LFB80:
 346:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 347:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 348:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_EPStartXfer setup and starts a transfer over an EP
 349:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 350:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 351:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 352:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 353:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_TypeDef *USBx, USB_EPTypeDef *ep)
 354:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 355:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t len;
 356:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint16_t pmabuffer;
 357:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint16_t wEPVal;
 358:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 359:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* IN endpoint */
 360:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if (ep->is_in == 1U)
 361:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 362:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     /*Multi packet transfer*/
 363:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->xfer_len > ep->maxpacket)
 364:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 365:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       len = ep->maxpacket;
 366:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 367:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 368:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 369:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       len = ep->xfer_len;
 370:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 371:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 372:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     /* configure and validate Tx endpoint */
ARM GAS  /tmp/ccAWfOy4.s 			page 26


 373:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->doublebuffer == 0U)
 374:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 375:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       USB_WritePMA(USBx, ep->xfer_buff, ep->pmaadress, (uint16_t)len);
 376:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_CNT(USBx, ep->num, len);
 377:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 378:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 379:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 380:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* double buffer bulk management */
 381:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       if (ep->type == EP_TYPE_BULK)
 382:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 383:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         if (ep->xfer_len_db > ep->maxpacket)
 384:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 385:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* enable double buffer */
 386:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           PCD_SET_EP_DBUF(USBx, ep->num);
 387:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 388:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* each Time to write in PMA xfer_len_db will */
 389:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_len_db -= len;
 390:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 391:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* Fill the two first buffer in the Buffer0 & Buffer1 */
 392:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           if ((PCD_GET_ENDPOINT(USBx, ep->num) & USB_EP_DTOG_TX) != 0U)
 393:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 394:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer1 */
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
 396:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 397:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 398:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
 399:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 400:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_buff += len;
 401:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 402:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             if (ep->xfer_len_db > ep->maxpacket)
 403:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             {
 404:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               ep->xfer_len_db -= len;
 405:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 406:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             else
 407:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             {
 408:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               len = ep->xfer_len_db;
 409:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               ep->xfer_len_db = 0U;
 410:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 411:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 412:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer0 */
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
 414:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 415:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 416:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
 417:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 418:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 419:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           else
 420:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 421:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer0 */
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
 423:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 424:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 425:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
 426:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 427:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_buff += len;
 428:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 429:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             if (ep->xfer_len_db > ep->maxpacket)
ARM GAS  /tmp/ccAWfOy4.s 			page 27


 430:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             {
 431:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               ep->xfer_len_db -= len;
 432:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 433:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             else
 434:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             {
 435:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               len = ep->xfer_len_db;
 436:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               ep->xfer_len_db = 0U;
 437:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 438:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 439:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer1 */
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
 441:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 442:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 443:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
 444:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 445:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 446:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 447:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* auto Switch to single buffer mode when transfer <Mps no need to manage in double buffer 
 448:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         else
 449:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 450:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           len = ep->xfer_len_db;
 451:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 452:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* disable double buffer mode */
 453:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           PCD_CLEAR_EP_DBUF(USBx, ep->num);
 454:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 455:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* Set Tx count with nbre of byte to be transmitted */
 456:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           PCD_SET_EP_TX_CNT(USBx, ep->num, len);
 457:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 458:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 459:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* Write the user buffer to USB PMA */
 460:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 461:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 462:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }/* end if bulk double buffer */
 463:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 464:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* manage isochronous double buffer IN mode */
 465:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       else
 466:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 467:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* enable double buffer */
 468:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_DBUF(USBx, ep->num);
 469:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 470:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* each Time to write in PMA xfer_len_db will */
 471:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         ep->xfer_len_db -= len;
 472:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 473:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Fill the data buffer */
 474:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         if ((PCD_GET_ENDPOINT(USBx, ep->num) & USB_EP_DTOG_TX) != 0U)
 475:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 476:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* Set the Double buffer counter for pmabuffer1 */
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
 478:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 479:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 480:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* Write the user buffer to USB PMA */
 481:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 482:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_buff += len;
 483:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 484:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           if (ep->xfer_len_db > ep->maxpacket)
 485:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 486:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_len_db -= len;
ARM GAS  /tmp/ccAWfOy4.s 			page 28


 487:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 488:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           else
 489:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 490:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             len = ep->xfer_len_db;
 491:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_len_db = 0U;
 492:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 493:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 494:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           if (len > 0U)
 495:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 496:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer0 */
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
 498:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 499:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 500:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
 501:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 502:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 503:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 504:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         else
 505:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 506:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* Set the Double buffer counter for pmabuffer0 */
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
 508:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 509:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 510:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* Write the user buffer to USB PMA */
 511:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 512:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_buff += len;
 513:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 514:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           if (ep->xfer_len_db > ep->maxpacket)
 515:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 516:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_len_db -= len;
 517:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 518:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           else
 519:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 520:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             len = ep->xfer_len_db;
 521:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_len_db = 0U;
 522:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 523:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 524:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           if (len > 0U)
 525:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 526:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer1 */
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
 528:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 529:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 530:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
 531:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 532:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 533:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 534:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 535:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 536:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 537:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_VALID);
 538:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 539:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   else /* OUT endpoint */
 540:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 541:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->doublebuffer == 0U)
 542:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 543:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Multi packet transfer */
ARM GAS  /tmp/ccAWfOy4.s 			page 29


 544:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 545:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 546:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         len = ep->maxpacket;
 547:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         ep->xfer_len -= len;
 548:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 549:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       else
 550:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 551:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         len = ep->xfer_len;
 552:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         ep->xfer_len = 0U;
 553:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 554:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* configure and validate Rx endpoint */
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_CNT(USBx, ep->num, len);
 556:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 557:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 558:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 559:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* First Transfer Coming From HAL_PCD_EP_Receive & From ISR */
 560:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Set the Double buffer counter */
 561:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       if (ep->type == EP_TYPE_BULK)
 562:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_DBUF_CNT(USBx, ep->num, ep->is_in, ep->maxpacket);
 564:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 565:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Coming from ISR */
 566:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         if (ep->xfer_count != 0U)
 567:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 568:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /* update last value to check if there is blocking state */
 569:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           wEPVal = PCD_GET_ENDPOINT(USBx, ep->num);
 570:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 571:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           /*Blocking State */
 572:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           if ((((wEPVal & USB_EP_DTOG_RX) != 0U) && ((wEPVal & USB_EP_DTOG_TX) != 0U)) ||
 573:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               (((wEPVal & USB_EP_DTOG_RX) == 0U) && ((wEPVal & USB_EP_DTOG_TX) == 0U)))
 574:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 575:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             PCD_FreeUserBuffer(USBx, ep->num, 0U);
 576:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 577:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 578:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 579:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* iso out double */
 580:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       else if (ep->type == EP_TYPE_ISOC)
 581:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 582:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Multi packet transfer */
 583:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         if (ep->xfer_len > ep->maxpacket)
 584:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 585:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           len = ep->maxpacket;
 586:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_len -= len;
 587:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 588:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         else
 589:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 590:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           len = ep->xfer_len;
 591:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_len = 0U;
 592:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_DBUF_CNT(USBx, ep->num, ep->is_in, len);
 594:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 595:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       else
 596:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 597:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         return HAL_ERROR;
 598:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 599:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 600:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
ARM GAS  /tmp/ccAWfOy4.s 			page 30


 601:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 602:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 603:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 604:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 605:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 606:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 607:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 608:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 609:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_EPSetStall set a stall condition over an EP
 610:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 611:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 612:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 613:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 614:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_TypeDef *USBx, USB_EPTypeDef *ep)
 615:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1015              		.loc 1 615 0
 1016              		.cfi_startproc
 1017              		@ args = 0, pretend = 0, frame = 0
 1018              		@ frame_needed = 0, uses_anonymous_args = 0
 1019              		@ link register save eliminated.
 1020              	.LVL147:
 616:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if (ep->is_in != 0U)
 1021              		.loc 1 616 0
 1022 0000 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1023 0002 8BB9     		cbnz	r3, .L52
 1024              	.LBB52:
 617:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 618:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_STALL);
 619:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 620:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   else
 621:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 622:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_STALL);
 1025              		.loc 1 622 0
 1026 0004 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1027 0006 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1028 000a 9BB2     		uxth	r3, r3
 1029 000c 23F48043 		bic	r3, r3, #16384
 1030 0010 23F07003 		bic	r3, r3, #112
 1031              	.LVL148:
 1032 0014 83F48053 		eor	r3, r3, #4096
 1033              	.LVL149:
 1034 0018 43F40043 		orr	r3, r3, #32768
 1035              	.LVL150:
 1036 001c 43F08003 		orr	r3, r3, #128
 1037 0020 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1038              	.L51:
 1039              	.LBE52:
 623:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 624:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 625:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 626:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1040              		.loc 1 626 0
 1041 0024 0020     		movs	r0, #0
 1042              	.LVL151:
 1043 0026 7047     		bx	lr
 1044              	.LVL152:
 1045              	.L52:
ARM GAS  /tmp/ccAWfOy4.s 			page 31


 1046              	.LBB53:
 618:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 1047              		.loc 1 618 0
 1048 0028 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1049 002a 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1050 002e 9BB2     		uxth	r3, r3
 1051 0030 23F4E043 		bic	r3, r3, #28672
 1052 0034 23F04003 		bic	r3, r3, #64
 1053              	.LVL153:
 1054 0038 83F01003 		eor	r3, r3, #16
 1055              	.LVL154:
 1056 003c 43F40043 		orr	r3, r3, #32768
 1057              	.LVL155:
 1058 0040 43F08003 		orr	r3, r3, #128
 1059 0044 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1060              	.LBE53:
 1061 0048 ECE7     		b	.L51
 1062              		.cfi_endproc
 1063              	.LFE80:
 1065              		.section	.text.USB_EPClearStall,"ax",%progbits
 1066              		.align	1
 1067              		.global	USB_EPClearStall
 1068              		.syntax unified
 1069              		.thumb
 1070              		.thumb_func
 1071              		.fpu softvfp
 1073              	USB_EPClearStall:
 1074              	.LFB81:
 627:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 628:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 629:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_EPClearStall Clear a stall condition over an EP
 630:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 631:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 632:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 633:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 634:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_TypeDef *USBx, USB_EPTypeDef *ep)
 635:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1075              		.loc 1 635 0
 1076              		.cfi_startproc
 1077              		@ args = 0, pretend = 0, frame = 0
 1078              		@ frame_needed = 0, uses_anonymous_args = 0
 1079              		@ link register save eliminated.
 1080              	.LVL156:
 636:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if (ep->doublebuffer == 0U)
 1081              		.loc 1 636 0
 1082 0000 0B7B     		ldrb	r3, [r1, #12]	@ zero_extendqisi2
 1083 0002 002B     		cmp	r3, #0
 1084 0004 4BD1     		bne	.L54
 637:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 638:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     if (ep->is_in != 0U)
 1085              		.loc 1 638 0
 1086 0006 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1087 0008 33B3     		cbz	r3, .L55
 1088              	.LBB54:
 639:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 640:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1089              		.loc 1 640 0
ARM GAS  /tmp/ccAWfOy4.s 			page 32


 1090 000a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1091 000c 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1092              	.LVL157:
 1093 0010 13F0400F 		tst	r3, #64
 1094 0014 0CD0     		beq	.L56
 1095              	.LBB55:
 1096              		.loc 1 640 0 is_stmt 0 discriminator 1
 1097 0016 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1098              	.LVL158:
 1099 001a 9BB2     		uxth	r3, r3
 1100 001c 23F4E043 		bic	r3, r3, #28672
 1101 0020 23F07003 		bic	r3, r3, #112
 1102              	.LVL159:
 1103 0024 43F40043 		orr	r3, r3, #32768
 1104              	.LVL160:
 1105 0028 43F0C003 		orr	r3, r3, #192
 1106 002c 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1107              	.L56:
 1108              	.LBE55:
 1109              	.LBE54:
 641:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 642:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 1110              		.loc 1 642 0 is_stmt 1
 1111 0030 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1112 0032 012B     		cmp	r3, #1
 1113 0034 33D0     		beq	.L54
 1114              	.LBB56:
 643:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 644:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
 645:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK);
 1115              		.loc 1 645 0
 1116 0036 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1117 0038 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1118 003c 9BB2     		uxth	r3, r3
 1119 003e 23F4E043 		bic	r3, r3, #28672
 1120 0042 23F04003 		bic	r3, r3, #64
 1121              	.LVL161:
 1122 0046 83F02003 		eor	r3, r3, #32
 1123              	.LVL162:
 1124 004a 43F40043 		orr	r3, r3, #32768
 1125              	.LVL163:
 1126 004e 43F08003 		orr	r3, r3, #128
 1127 0052 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1128 0056 22E0     		b	.L54
 1129              	.L55:
 1130              	.LBE56:
 1131              	.LBB57:
 646:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 647:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 648:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     else
 649:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 650:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 1132              		.loc 1 650 0
 1133 0058 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1134 005a 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1135              	.LVL164:
 1136 005e 13F4804F 		tst	r3, #16384
ARM GAS  /tmp/ccAWfOy4.s 			page 33


 1137 0062 0CD0     		beq	.L57
 1138              	.LBB58:
 1139              		.loc 1 650 0 is_stmt 0 discriminator 1
 1140 0064 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1141              	.LVL165:
 1142 0068 9BB2     		uxth	r3, r3
 1143 006a 23F4E043 		bic	r3, r3, #28672
 1144 006e 23F07003 		bic	r3, r3, #112
 1145              	.LVL166:
 1146 0072 43F44043 		orr	r3, r3, #49152
 1147              	.LVL167:
 1148 0076 43F08003 		orr	r3, r3, #128
 1149 007a 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1150              	.L57:
 1151              	.LBE58:
 1152              	.LBE57:
 1153              	.LBB59:
 651:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 652:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       /* Configure VALID status for the Endpoint */
 653:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 1154              		.loc 1 653 0 is_stmt 1
 1155 007e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1156 0080 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1157 0084 9BB2     		uxth	r3, r3
 1158 0086 23F48043 		bic	r3, r3, #16384
 1159 008a 23F07003 		bic	r3, r3, #112
 1160              	.LVL168:
 1161 008e 83F44053 		eor	r3, r3, #12288
 1162              	.LVL169:
 1163 0092 43F40043 		orr	r3, r3, #32768
 1164              	.LVL170:
 1165 0096 43F08003 		orr	r3, r3, #128
 1166 009a 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1167              	.L54:
 1168              	.LBE59:
 654:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 655:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 656:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 657:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 658:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1169              		.loc 1 658 0
 1170 009e 0020     		movs	r0, #0
 1171              	.LVL171:
 1172 00a0 7047     		bx	lr
 1173              		.cfi_endproc
 1174              	.LFE81:
 1176              		.section	.text.USB_StopDevice,"ax",%progbits
 1177              		.align	1
 1178              		.global	USB_StopDevice
 1179              		.syntax unified
 1180              		.thumb
 1181              		.thumb_func
 1182              		.fpu softvfp
 1184              	USB_StopDevice:
 1185              	.LFB82:
 659:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #endif
 660:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
ARM GAS  /tmp/ccAWfOy4.s 			page 34


 661:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 662:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_StopDevice Stop the usb device mode
 663:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 664:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 665:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 666:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_TypeDef *USBx)
 667:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1186              		.loc 1 667 0
 1187              		.cfi_startproc
 1188              		@ args = 0, pretend = 0, frame = 0
 1189              		@ frame_needed = 0, uses_anonymous_args = 0
 1190              		@ link register save eliminated.
 1191              	.LVL172:
 1192 0000 0346     		mov	r3, r0
 668:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* disable all interrupts and force USB reset */
 669:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR = (uint16_t)USB_CNTR_FRES;
 1193              		.loc 1 669 0
 1194 0002 0122     		movs	r2, #1
 1195 0004 A0F84020 		strh	r2, [r0, #64]	@ movhi
 670:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 671:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* clear interrupt status register */
 672:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->ISTR = 0U;
 1196              		.loc 1 672 0
 1197 0008 0020     		movs	r0, #0
 1198              	.LVL173:
 1199 000a A3F84400 		strh	r0, [r3, #68]	@ movhi
 673:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 674:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* switch-off device */
 675:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR = (uint16_t)(USB_CNTR_FRES | USB_CNTR_PDWN);
 1200              		.loc 1 675 0
 1201 000e 0322     		movs	r2, #3
 1202 0010 A3F84020 		strh	r2, [r3, #64]	@ movhi
 676:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 677:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 678:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1203              		.loc 1 678 0
 1204 0014 7047     		bx	lr
 1205              		.cfi_endproc
 1206              	.LFE82:
 1208              		.section	.text.USB_SetDevAddress,"ax",%progbits
 1209              		.align	1
 1210              		.global	USB_SetDevAddress
 1211              		.syntax unified
 1212              		.thumb
 1213              		.thumb_func
 1214              		.fpu softvfp
 1216              	USB_SetDevAddress:
 1217              	.LFB83:
 679:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 680:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 681:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_SetDevAddress Stop the usb device mode
 682:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 683:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  address new device address to be assigned
 684:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
 685:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 686:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 687:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_TypeDef *USBx, uint8_t address)
ARM GAS  /tmp/ccAWfOy4.s 			page 35


 688:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1218              		.loc 1 688 0
 1219              		.cfi_startproc
 1220              		@ args = 0, pretend = 0, frame = 0
 1221              		@ frame_needed = 0, uses_anonymous_args = 0
 1222              		@ link register save eliminated.
 1223              	.LVL174:
 689:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if (address == 0U)
 1224              		.loc 1 689 0
 1225 0000 11B9     		cbnz	r1, .L60
 690:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 691:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     /* set device address and enable function */
 692:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     USBx->DADDR = (uint16_t)USB_DADDR_EF;
 1226              		.loc 1 692 0
 1227 0002 8023     		movs	r3, #128
 1228 0004 A0F84C30 		strh	r3, [r0, #76]	@ movhi
 1229              	.L60:
 693:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 694:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 695:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 696:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1230              		.loc 1 696 0
 1231 0008 0020     		movs	r0, #0
 1232              	.LVL175:
 1233 000a 7047     		bx	lr
 1234              		.cfi_endproc
 1235              	.LFE83:
 1237              		.section	.text.USB_DevConnect,"ax",%progbits
 1238              		.align	1
 1239              		.global	USB_DevConnect
 1240              		.syntax unified
 1241              		.thumb
 1242              		.thumb_func
 1243              		.fpu softvfp
 1245              	USB_DevConnect:
 1246              	.LFB84:
 697:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 698:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 699:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_DevConnect Connect the USB device by enabling the pull-up/pull-down
 700:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 701:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 702:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 703:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_TypeDef *USBx)
 704:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1247              		.loc 1 704 0
 1248              		.cfi_startproc
 1249              		@ args = 0, pretend = 0, frame = 0
 1250              		@ frame_needed = 0, uses_anonymous_args = 0
 1251              		@ link register save eliminated.
 1252              	.LVL176:
 705:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 706:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   UNUSED(USBx);
 707:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 708:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
 709:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               only by USB OTG FS peripheral.
 710:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
 711:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****    */
ARM GAS  /tmp/ccAWfOy4.s 			page 36


 712:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 713:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 714:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1253              		.loc 1 714 0
 1254 0000 0020     		movs	r0, #0
 1255              	.LVL177:
 1256 0002 7047     		bx	lr
 1257              		.cfi_endproc
 1258              	.LFE84:
 1260              		.section	.text.USB_DevDisconnect,"ax",%progbits
 1261              		.align	1
 1262              		.global	USB_DevDisconnect
 1263              		.syntax unified
 1264              		.thumb
 1265              		.thumb_func
 1266              		.fpu softvfp
 1268              	USB_DevDisconnect:
 1269              	.LFB85:
 715:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 716:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 717:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_DevDisconnect Disconnect the USB device by disabling the pull-up/pull-down
 718:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 719:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 720:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 721:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_TypeDef *USBx)
 722:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1270              		.loc 1 722 0
 1271              		.cfi_startproc
 1272              		@ args = 0, pretend = 0, frame = 0
 1273              		@ frame_needed = 0, uses_anonymous_args = 0
 1274              		@ link register save eliminated.
 1275              	.LVL178:
 723:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
 724:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   UNUSED(USBx);
 725:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 726:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
 727:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               only by USB OTG FS peripheral.
 728:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
 729:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****    */
 730:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 731:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 732:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1276              		.loc 1 732 0
 1277 0000 0020     		movs	r0, #0
 1278              	.LVL179:
 1279 0002 7047     		bx	lr
 1280              		.cfi_endproc
 1281              	.LFE85:
 1283              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 1284              		.align	1
 1285              		.global	USB_ReadInterrupts
 1286              		.syntax unified
 1287              		.thumb
 1288              		.thumb_func
 1289              		.fpu softvfp
 1291              	USB_ReadInterrupts:
 1292              	.LFB86:
ARM GAS  /tmp/ccAWfOy4.s 			page 37


 733:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 734:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 735:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_ReadInterrupts return the global USB interrupt status
 736:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 737:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 738:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 739:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_TypeDef *USBx)
 740:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1293              		.loc 1 740 0
 1294              		.cfi_startproc
 1295              		@ args = 0, pretend = 0, frame = 0
 1296              		@ frame_needed = 0, uses_anonymous_args = 0
 1297              		@ link register save eliminated.
 1298              	.LVL180:
 741:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t tmpreg;
 742:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 743:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   tmpreg = USBx->ISTR;
 1299              		.loc 1 743 0
 1300 0000 B0F84400 		ldrh	r0, [r0, #68]
 1301              	.LVL181:
 744:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return tmpreg;
 745:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1302              		.loc 1 745 0
 1303 0004 80B2     		uxth	r0, r0
 1304              	.LVL182:
 1305 0006 7047     		bx	lr
 1306              		.cfi_endproc
 1307              	.LFE86:
 1309              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 1310              		.align	1
 1311              		.global	USB_ActivateRemoteWakeup
 1312              		.syntax unified
 1313              		.thumb
 1314              		.thumb_func
 1315              		.fpu softvfp
 1317              	USB_ActivateRemoteWakeup:
 1318              	.LFB87:
 746:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 747:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 748:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup : active remote wakeup signalling
 749:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 750:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 751:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 752:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_TypeDef *USBx)
 753:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1319              		.loc 1 753 0
 1320              		.cfi_startproc
 1321              		@ args = 0, pretend = 0, frame = 0
 1322              		@ frame_needed = 0, uses_anonymous_args = 0
 1323              		@ link register save eliminated.
 1324              	.LVL183:
 754:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR |= (uint16_t)USB_CNTR_RESUME;
 1325              		.loc 1 754 0
 1326 0000 B0F84030 		ldrh	r3, [r0, #64]
 1327 0004 9BB2     		uxth	r3, r3
 1328 0006 43F01003 		orr	r3, r3, #16
 1329 000a A0F84030 		strh	r3, [r0, #64]	@ movhi
ARM GAS  /tmp/ccAWfOy4.s 			page 38


 755:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 756:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 757:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1330              		.loc 1 757 0
 1331 000e 0020     		movs	r0, #0
 1332              	.LVL184:
 1333 0010 7047     		bx	lr
 1334              		.cfi_endproc
 1335              	.LFE87:
 1337              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 1338              		.align	1
 1339              		.global	USB_DeActivateRemoteWakeup
 1340              		.syntax unified
 1341              		.thumb
 1342              		.thumb_func
 1343              		.fpu softvfp
 1345              	USB_DeActivateRemoteWakeup:
 1346              	.LFB88:
 758:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 759:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 760:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
 761:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param  USBx Selected device
 762:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval HAL status
 763:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 764:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_TypeDef *USBx)
 765:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1347              		.loc 1 765 0
 1348              		.cfi_startproc
 1349              		@ args = 0, pretend = 0, frame = 0
 1350              		@ frame_needed = 0, uses_anonymous_args = 0
 1351              		@ link register save eliminated.
 1352              	.LVL185:
 766:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   USBx->CNTR &= (uint16_t)(~USB_CNTR_RESUME);
 1353              		.loc 1 766 0
 1354 0000 B0F84030 		ldrh	r3, [r0, #64]
 1355 0004 9BB2     		uxth	r3, r3
 1356 0006 23F01003 		bic	r3, r3, #16
 1357 000a 9BB2     		uxth	r3, r3
 1358 000c A0F84030 		strh	r3, [r0, #64]	@ movhi
 767:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 768:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   return HAL_OK;
 769:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1359              		.loc 1 769 0
 1360 0010 0020     		movs	r0, #0
 1361              	.LVL186:
 1362 0012 7047     		bx	lr
 1363              		.cfi_endproc
 1364              	.LFE88:
 1366              		.section	.text.USB_WritePMA,"ax",%progbits
 1367              		.align	1
 1368              		.global	USB_WritePMA
 1369              		.syntax unified
 1370              		.thumb
 1371              		.thumb_func
 1372              		.fpu softvfp
 1374              	USB_WritePMA:
 1375              	.LFB89:
ARM GAS  /tmp/ccAWfOy4.s 			page 39


 770:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 771:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 772:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief Copy a buffer from user memory area to packet memory area (PMA)
 773:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   USBx USB peripheral instance register address.
 774:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   pbUsrBuf pointer to user memory area.
 775:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   wPMABufAddr address into PMA.
 776:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   wNBytes no. of bytes to be copied.
 777:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval None
 778:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 779:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** void USB_WritePMA(USB_TypeDef *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
 780:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 1376              		.loc 1 780 0
 1377              		.cfi_startproc
 1378              		@ args = 0, pretend = 0, frame = 0
 1379              		@ frame_needed = 0, uses_anonymous_args = 0
 1380              		@ link register save eliminated.
 1381              	.LVL187:
 781:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t n = ((uint32_t)wNBytes + 1U) >> 1;
 1382              		.loc 1 781 0
 1383 0000 0133     		adds	r3, r3, #1
 1384              	.LVL188:
 1385 0002 5B08     		lsrs	r3, r3, #1
 1386              	.LVL189:
 782:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t BaseAddr = (uint32_t)USBx;
 783:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t i, temp1, temp2;
 784:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   __IO uint16_t *pdwVal;
 785:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint8_t *pBuf = pbUsrBuf;
 786:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 787:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   pdwVal = (__IO uint16_t *)(BaseAddr + 0x400U + ((uint32_t)wPMABufAddr * PMA_ACCESS));
 1387              		.loc 1 787 0
 1388 0004 00EB4202 		add	r2, r0, r2, lsl #1
 1389              	.LVL190:
 1390 0008 02F58062 		add	r2, r2, #1024
 1391              	.LVL191:
 788:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 789:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   for (i = n; i != 0U; i--)
 1392              		.loc 1 789 0
 1393 000c 63B1     		cbz	r3, .L72
 780:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t n = ((uint32_t)wNBytes + 1U) >> 1;
 1394              		.loc 1 780 0
 1395 000e 10B4     		push	{r4}
 1396              	.LCFI12:
 1397              		.cfi_def_cfa_offset 4
 1398              		.cfi_offset 4, -4
 1399              	.LVL192:
 1400              	.L68:
 790:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 791:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     temp1 = *pBuf;
 1401              		.loc 1 791 0 discriminator 3
 1402 0010 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1403              	.LVL193:
 792:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pBuf++;
 793:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     temp2 = temp1 | ((uint16_t)((uint16_t) *pBuf << 8));
 1404              		.loc 1 793 0 discriminator 3
 1405 0012 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 1406              	.LVL194:
 794:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     *pdwVal = (uint16_t)temp2;
ARM GAS  /tmp/ccAWfOy4.s 			page 40


 1407              		.loc 1 794 0 discriminator 3
 1408 0014 44EA0024 		orr	r4, r4, r0, lsl #8
 1409              	.LVL195:
 1410 0018 22F8044B 		strh	r4, [r2], #4	@ movhi
 1411              	.LVL196:
 795:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pdwVal++;
 796:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 797:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #if PMA_ACCESS > 1U
 798:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pdwVal++;
 799:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #endif
 800:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 801:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pBuf++;
 1412              		.loc 1 801 0 discriminator 3
 1413 001c 0231     		adds	r1, r1, #2
 1414              	.LVL197:
 789:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 1415              		.loc 1 789 0 discriminator 3
 1416 001e 013B     		subs	r3, r3, #1
 1417              	.LVL198:
 1418 0020 002B     		cmp	r3, #0
 1419 0022 F5D1     		bne	.L68
 802:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 803:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1420              		.loc 1 803 0
 1421 0024 10BC     		pop	{r4}
 1422              	.LCFI13:
 1423              		.cfi_restore 4
 1424              		.cfi_def_cfa_offset 0
 1425              	.LVL199:
 1426 0026 7047     		bx	lr
 1427              	.LVL200:
 1428              	.L72:
 1429 0028 7047     		bx	lr
 1430              		.cfi_endproc
 1431              	.LFE89:
 1433              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1434              		.align	1
 1435              		.global	USB_EPStartXfer
 1436              		.syntax unified
 1437              		.thumb
 1438              		.thumb_func
 1439              		.fpu softvfp
 1441              	USB_EPStartXfer:
 1442              	.LFB79:
 354:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t len;
 1443              		.loc 1 354 0
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 0
 1446              		@ frame_needed = 0, uses_anonymous_args = 0
 1447              	.LVL201:
 1448 0000 70B5     		push	{r4, r5, r6, lr}
 1449              	.LCFI14:
 1450              		.cfi_def_cfa_offset 16
 1451              		.cfi_offset 4, -16
 1452              		.cfi_offset 5, -12
 1453              		.cfi_offset 6, -8
 1454              		.cfi_offset 14, -4
ARM GAS  /tmp/ccAWfOy4.s 			page 41


 360:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 1455              		.loc 1 360 0
 1456 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1457 0004 012B     		cmp	r3, #1
 1458 0006 37D0     		beq	.L172
 541:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 1459              		.loc 1 541 0
 1460 0008 0A7B     		ldrb	r2, [r1, #12]	@ zero_extendqisi2
 1461 000a 002A     		cmp	r2, #0
 1462 000c 40F02683 		bne	.L137
 544:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 1463              		.loc 1 544 0
 1464 0010 8B69     		ldr	r3, [r1, #24]
 1465 0012 0A69     		ldr	r2, [r1, #16]
 1466 0014 9342     		cmp	r3, r2
 1467 0016 40F20483 		bls	.L138
 1468              	.LVL202:
 547:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 1469              		.loc 1 547 0
 1470 001a 9B1A     		subs	r3, r3, r2
 1471 001c 8B61     		str	r3, [r1, #24]
 1472              	.L139:
 1473              	.LVL203:
 1474              	.LBB60:
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 1475              		.loc 1 555 0
 1476 001e B0F85030 		ldrh	r3, [r0, #80]
 1477 0022 9BB2     		uxth	r3, r3
 1478 0024 0344     		add	r3, r3, r0
 1479              	.LVL204:
 1480 0026 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1481 0028 03EB0413 		add	r3, r3, r4, lsl #4
 1482              	.LVL205:
 1483              	.LBB61:
 1484 002c 002A     		cmp	r2, #0
 1485 002e 40F0FC82 		bne	.L140
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 1486              		.loc 1 555 0 is_stmt 0 discriminator 1
 1487 0032 B3F80C24 		ldrh	r2, [r3, #1036]
 1488              	.LVL206:
 1489 0036 92B2     		uxth	r2, r2
 1490 0038 22F4F842 		bic	r2, r2, #31744
 1491 003c 92B2     		uxth	r2, r2
 1492 003e A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1493 0042 B3F80C24 		ldrh	r2, [r3, #1036]
 1494 0046 6FEA4242 		mvn	r2, r2, lsl #17
 1495 004a 6FEA5242 		mvn	r2, r2, lsr #17
 1496 004e 92B2     		uxth	r2, r2
 1497 0050 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1498              	.LVL207:
 1499              	.L141:
 1500              	.LBE61:
 1501              	.LBE60:
 1502              	.LBB63:
 601:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 1503              		.loc 1 601 0 is_stmt 1
 1504 0054 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
ARM GAS  /tmp/ccAWfOy4.s 			page 42


 1505 0056 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1506 005a 9BB2     		uxth	r3, r3
 1507 005c 23F48043 		bic	r3, r3, #16384
 1508 0060 23F07003 		bic	r3, r3, #112
 1509              	.LVL208:
 1510 0064 83F44053 		eor	r3, r3, #12288
 1511              	.LVL209:
 1512 0068 43F40043 		orr	r3, r3, #32768
 1513              	.LVL210:
 1514 006c 43F08003 		orr	r3, r3, #128
 1515 0070 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1516              	.LBE63:
 604:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1517              		.loc 1 604 0
 1518 0074 0020     		movs	r0, #0
 1519              	.LVL211:
 1520 0076 70BD     		pop	{r4, r5, r6, pc}
 1521              	.LVL212:
 1522              	.L172:
 363:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 1523              		.loc 1 363 0
 1524 0078 8E69     		ldr	r6, [r1, #24]
 1525 007a 0B69     		ldr	r3, [r1, #16]
 1526 007c 9E42     		cmp	r6, r3
 1527 007e 00D9     		bls	.L75
 365:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 1528              		.loc 1 365 0
 1529 0080 1E46     		mov	r6, r3
 1530              	.L75:
 1531 0082 0C46     		mov	r4, r1
 1532 0084 0546     		mov	r5, r0
 1533              	.LVL213:
 373:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     {
 1534              		.loc 1 373 0
 1535 0086 0A7B     		ldrb	r2, [r1, #12]	@ zero_extendqisi2
 1536 0088 002A     		cmp	r2, #0
 1537 008a 39D0     		beq	.L173
 381:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 1538              		.loc 1 381 0
 1539 008c CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 1540 008e 022A     		cmp	r2, #2
 1541 0090 57D0     		beq	.L174
 1542              	.LBB64:
 468:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 1543              		.loc 1 468 0
 1544 0092 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1545 0094 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1546 0098 9BB2     		uxth	r3, r3
 1547 009a 23F4E043 		bic	r3, r3, #28672
 1548 009e 23F07003 		bic	r3, r3, #112
 1549              	.LVL214:
 1550 00a2 43F40143 		orr	r3, r3, #33024
 1551              	.LVL215:
 1552 00a6 43F08003 		orr	r3, r3, #128
 1553 00aa 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1554              	.LBE64:
 471:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
ARM GAS  /tmp/ccAWfOy4.s 			page 43


 1555              		.loc 1 471 0
 1556 00ae 0B6A     		ldr	r3, [r1, #32]
 1557 00b0 9B1B     		subs	r3, r3, r6
 1558 00b2 0B62     		str	r3, [r1, #32]
 474:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 1559              		.loc 1 474 0
 1560 00b4 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1561 00b6 30F82320 		ldrh	r2, [r0, r3, lsl #2]
 1562 00ba 12F0400F 		tst	r2, #64
 1563 00be 00F02482 		beq	.L109
 1564              	.LVL216:
 1565              	.LBB65:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 1566              		.loc 1 477 0
 1567 00c2 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1568 00c4 002A     		cmp	r2, #0
 1569 00c6 40F0C881 		bne	.L110
 1570              	.LVL217:
 1571              	.LBB66:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 1572              		.loc 1 477 0 is_stmt 0 discriminator 1
 1573 00ca B0F85020 		ldrh	r2, [r0, #80]
 1574 00ce 92B2     		uxth	r2, r2
 1575 00d0 0244     		add	r2, r2, r0
 1576              	.LVL218:
 1577 00d2 02EB0313 		add	r3, r2, r3, lsl #4
 1578              	.LVL219:
 1579              	.LBB67:
 1580 00d6 002E     		cmp	r6, #0
 1581 00d8 40F0A681 		bne	.L111
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 1582              		.loc 1 477 0 discriminator 3
 1583 00dc B3F80C24 		ldrh	r2, [r3, #1036]
 1584              	.LVL220:
 1585 00e0 92B2     		uxth	r2, r2
 1586 00e2 22F4F842 		bic	r2, r2, #31744
 1587 00e6 92B2     		uxth	r2, r2
 1588 00e8 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1589 00ec B3F80C24 		ldrh	r2, [r3, #1036]
 1590 00f0 6FEA4242 		mvn	r2, r2, lsl #17
 1591 00f4 6FEA5242 		mvn	r2, r2, lsr #17
 1592 00f8 92B2     		uxth	r2, r2
 1593 00fa A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1594 00fe AEE1     		b	.L112
 1595              	.LVL221:
 1596              	.L173:
 1597              	.LBE67:
 1598              	.LBE66:
 1599              	.LBE65:
 375:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       PCD_SET_EP_TX_CNT(USBx, ep->num, len);
 1600              		.loc 1 375 0 is_stmt 1
 1601 0100 B6B2     		uxth	r6, r6
 1602              	.LVL222:
 1603 0102 3346     		mov	r3, r6
 1604 0104 CA88     		ldrh	r2, [r1, #6]
 1605 0106 4969     		ldr	r1, [r1, #20]
 1606              	.LVL223:
ARM GAS  /tmp/ccAWfOy4.s 			page 44


 1607 0108 FFF7FEFF 		bl	USB_WritePMA
 1608              	.LVL224:
 1609              	.LBB70:
 376:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 1610              		.loc 1 376 0
 1611 010c B5F85030 		ldrh	r3, [r5, #80]
 1612 0110 9BB2     		uxth	r3, r3
 1613 0112 2B44     		add	r3, r3, r5
 1614              	.LVL225:
 1615 0114 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1616 0116 03EB0213 		add	r3, r3, r2, lsl #4
 1617              	.LVL226:
 1618 011a A3F80464 		strh	r6, [r3, #1028]	@ movhi
 1619              	.LVL227:
 1620              	.L77:
 1621              	.LBE70:
 1622              	.LBB71:
 537:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 1623              		.loc 1 537 0
 1624 011e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1625 0120 35F82230 		ldrh	r3, [r5, r2, lsl #2]
 1626 0124 9BB2     		uxth	r3, r3
 1627 0126 23F4E043 		bic	r3, r3, #28672
 1628 012a 23F04003 		bic	r3, r3, #64
 1629              	.LVL228:
 1630 012e 83F03003 		eor	r3, r3, #48
 1631              	.LVL229:
 1632 0132 43F40043 		orr	r3, r3, #32768
 1633              	.LVL230:
 1634 0136 43F08003 		orr	r3, r3, #128
 1635 013a 25F82230 		strh	r3, [r5, r2, lsl #2]	@ movhi
 1636              	.LBE71:
 604:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 1637              		.loc 1 604 0
 1638 013e 0020     		movs	r0, #0
 1639 0140 70BD     		pop	{r4, r5, r6, pc}
 1640              	.LVL231:
 1641              	.L174:
 383:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 1642              		.loc 1 383 0
 1643 0142 0A6A     		ldr	r2, [r1, #32]
 1644 0144 9342     		cmp	r3, r2
 1645 0146 80F05281 		bcs	.L79
 1646              	.LBB72:
 386:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 1647              		.loc 1 386 0
 1648 014a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1649 014c 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 1650 0150 9BB2     		uxth	r3, r3
 1651 0152 23F4E043 		bic	r3, r3, #28672
 1652 0156 23F07003 		bic	r3, r3, #112
 1653              	.LVL232:
 1654 015a 43F40143 		orr	r3, r3, #33024
 1655              	.LVL233:
 1656 015e 43F08003 		orr	r3, r3, #128
 1657 0162 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 1658              	.LBE72:
ARM GAS  /tmp/ccAWfOy4.s 			page 45


 389:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 1659              		.loc 1 389 0
 1660 0166 0B6A     		ldr	r3, [r1, #32]
 1661 0168 9B1B     		subs	r3, r3, r6
 1662 016a 0B62     		str	r3, [r1, #32]
 392:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 1663              		.loc 1 392 0
 1664 016c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1665 016e 30F82320 		ldrh	r2, [r0, r3, lsl #2]
 1666 0172 12F0400F 		tst	r2, #64
 1667 0176 00F09D80 		beq	.L80
 1668              	.LVL234:
 1669              	.LBB73:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1670              		.loc 1 395 0
 1671 017a 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1672 017c 8ABB     		cbnz	r2, .L81
 1673              	.LVL235:
 1674              	.LBB74:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1675              		.loc 1 395 0 is_stmt 0 discriminator 1
 1676 017e B0F85020 		ldrh	r2, [r0, #80]
 1677 0182 92B2     		uxth	r2, r2
 1678 0184 0244     		add	r2, r2, r0
 1679              	.LVL236:
 1680 0186 02EB0313 		add	r3, r2, r3, lsl #4
 1681              	.LVL237:
 1682              	.LBB75:
 1683 018a 8EB9     		cbnz	r6, .L82
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1684              		.loc 1 395 0 discriminator 3
 1685 018c B3F80C24 		ldrh	r2, [r3, #1036]
 1686              	.LVL238:
 1687 0190 92B2     		uxth	r2, r2
 1688 0192 22F4F842 		bic	r2, r2, #31744
 1689 0196 92B2     		uxth	r2, r2
 1690 0198 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1691 019c B3F80C24 		ldrh	r2, [r3, #1036]
 1692 01a0 6FEA4242 		mvn	r2, r2, lsl #17
 1693 01a4 6FEA5242 		mvn	r2, r2, lsr #17
 1694 01a8 92B2     		uxth	r2, r2
 1695 01aa A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1696 01ae 1AE0     		b	.L83
 1697              	.LVL239:
 1698              	.L82:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1699              		.loc 1 395 0 discriminator 4
 1700 01b0 3E2E     		cmp	r6, #62
 1701 01b2 09D8     		bhi	.L84
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1702              		.loc 1 395 0 discriminator 5
 1703 01b4 7208     		lsrs	r2, r6, #1
 1704              	.LVL240:
 1705 01b6 16F0010F 		tst	r6, #1
 1706 01ba 00D0     		beq	.L85
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1707              		.loc 1 395 0 discriminator 7
ARM GAS  /tmp/ccAWfOy4.s 			page 46


 1708 01bc 0132     		adds	r2, r2, #1
 1709              	.LVL241:
 1710              	.L85:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1711              		.loc 1 395 0 discriminator 9
 1712 01be 9202     		lsls	r2, r2, #10
 1713              	.LVL242:
 1714 01c0 92B2     		uxth	r2, r2
 1715 01c2 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1716 01c6 0EE0     		b	.L83
 1717              	.LVL243:
 1718              	.L84:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1719              		.loc 1 395 0 discriminator 6
 1720 01c8 7209     		lsrs	r2, r6, #5
 1721              	.LVL244:
 1722 01ca 16F01F0F 		tst	r6, #31
 1723 01ce 00D1     		bne	.L86
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1724              		.loc 1 395 0 discriminator 10
 1725 01d0 013A     		subs	r2, r2, #1
 1726              	.LVL245:
 1727              	.L86:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1728              		.loc 1 395 0 discriminator 12
 1729 01d2 6FEAC262 		mvn	r2, r2, lsl #27
 1730              	.LVL246:
 1731 01d6 6FEA5242 		mvn	r2, r2, lsr #17
 1732 01da 92B2     		uxth	r2, r2
 1733 01dc A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1734 01e0 01E0     		b	.L83
 1735              	.LVL247:
 1736              	.L81:
 1737              	.LBE75:
 1738              	.LBE74:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1739              		.loc 1 395 0 discriminator 2
 1740 01e2 012A     		cmp	r2, #1
 1741 01e4 2BD0     		beq	.L175
 1742              	.LVL248:
 1743              	.L83:
 1744              	.LBE73:
 399:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_buff += len;
 1745              		.loc 1 399 0 is_stmt 1
 1746 01e6 B3B2     		uxth	r3, r6
 1747 01e8 6289     		ldrh	r2, [r4, #10]
 1748 01ea 6169     		ldr	r1, [r4, #20]
 1749              	.LVL249:
 1750 01ec 2846     		mov	r0, r5
 1751              	.LVL250:
 1752 01ee FFF7FEFF 		bl	USB_WritePMA
 1753              	.LVL251:
 400:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 1754              		.loc 1 400 0
 1755 01f2 6369     		ldr	r3, [r4, #20]
 1756 01f4 3344     		add	r3, r3, r6
 1757 01f6 6361     		str	r3, [r4, #20]
ARM GAS  /tmp/ccAWfOy4.s 			page 47


 402:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             {
 1758              		.loc 1 402 0
 1759 01f8 236A     		ldr	r3, [r4, #32]
 1760 01fa 2269     		ldr	r2, [r4, #16]
 1761 01fc 9342     		cmp	r3, r2
 1762 01fe 28D9     		bls	.L87
 404:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 1763              		.loc 1 404 0
 1764 0200 9B1B     		subs	r3, r3, r6
 1765 0202 2362     		str	r3, [r4, #32]
 1766              	.L88:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1767              		.loc 1 413 0
 1768 0204 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1769 0206 002B     		cmp	r3, #0
 1770 0208 40D1     		bne	.L89
 1771              	.LVL252:
 1772              	.LBB76:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1773              		.loc 1 413 0 is_stmt 0 discriminator 1
 1774 020a B5F85030 		ldrh	r3, [r5, #80]
 1775 020e 9BB2     		uxth	r3, r3
 1776 0210 2B44     		add	r3, r3, r5
 1777              	.LVL253:
 1778 0212 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1779 0214 03EB0213 		add	r3, r3, r2, lsl #4
 1780              	.LVL254:
 1781              	.LBB77:
 1782 0218 FEB9     		cbnz	r6, .L90
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1783              		.loc 1 413 0 discriminator 3
 1784 021a B3F80424 		ldrh	r2, [r3, #1028]
 1785 021e 92B2     		uxth	r2, r2
 1786 0220 22F4F842 		bic	r2, r2, #31744
 1787 0224 92B2     		uxth	r2, r2
 1788 0226 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1789 022a B3F80424 		ldrh	r2, [r3, #1028]
 1790 022e 6FEA4242 		mvn	r2, r2, lsl #17
 1791 0232 6FEA5242 		mvn	r2, r2, lsr #17
 1792 0236 92B2     		uxth	r2, r2
 1793 0238 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1794 023c 28E0     		b	.L91
 1795              	.LVL255:
 1796              	.L175:
 1797              	.LBE77:
 1798              	.LBE76:
 1799              	.LBB79:
 395:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1800              		.loc 1 395 0 is_stmt 1 discriminator 13
 1801 023e B0F85020 		ldrh	r2, [r0, #80]
 1802 0242 92B2     		uxth	r2, r2
 1803 0244 0244     		add	r2, r2, r0
 1804              	.LVL256:
 1805 0246 02EB0313 		add	r3, r2, r3, lsl #4
 1806              	.LVL257:
 1807 024a B2B2     		uxth	r2, r6
 1808              	.LVL258:
ARM GAS  /tmp/ccAWfOy4.s 			page 48


 1809 024c A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 1810 0250 C9E7     		b	.L83
 1811              	.LVL259:
 1812              	.L87:
 1813              	.LBE79:
 409:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 1814              		.loc 1 409 0
 1815 0252 0022     		movs	r2, #0
 1816 0254 2262     		str	r2, [r4, #32]
 408:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               ep->xfer_len_db = 0U;
 1817              		.loc 1 408 0
 1818 0256 1E46     		mov	r6, r3
 1819 0258 D4E7     		b	.L88
 1820              	.LVL260:
 1821              	.L90:
 1822              	.LBB80:
 1823              	.LBB78:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1824              		.loc 1 413 0 discriminator 4
 1825 025a 3E2E     		cmp	r6, #62
 1826 025c 09D8     		bhi	.L92
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1827              		.loc 1 413 0 is_stmt 0 discriminator 5
 1828 025e 7208     		lsrs	r2, r6, #1
 1829              	.LVL261:
 1830 0260 16F0010F 		tst	r6, #1
 1831 0264 00D0     		beq	.L93
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1832              		.loc 1 413 0 discriminator 7
 1833 0266 0132     		adds	r2, r2, #1
 1834              	.LVL262:
 1835              	.L93:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1836              		.loc 1 413 0 discriminator 9
 1837 0268 9202     		lsls	r2, r2, #10
 1838              	.LVL263:
 1839 026a 92B2     		uxth	r2, r2
 1840 026c A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1841 0270 0EE0     		b	.L91
 1842              	.L92:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1843              		.loc 1 413 0 discriminator 6
 1844 0272 7209     		lsrs	r2, r6, #5
 1845              	.LVL264:
 1846 0274 16F01F0F 		tst	r6, #31
 1847 0278 00D1     		bne	.L94
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1848              		.loc 1 413 0 discriminator 10
 1849 027a 013A     		subs	r2, r2, #1
 1850              	.LVL265:
 1851              	.L94:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1852              		.loc 1 413 0 discriminator 12
 1853 027c 6FEAC262 		mvn	r2, r2, lsl #27
 1854              	.LVL266:
 1855 0280 6FEA5242 		mvn	r2, r2, lsr #17
 1856 0284 92B2     		uxth	r2, r2
ARM GAS  /tmp/ccAWfOy4.s 			page 49


 1857 0286 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1858 028a 01E0     		b	.L91
 1859              	.LVL267:
 1860              	.L89:
 1861              	.LBE78:
 1862              	.LBE80:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1863              		.loc 1 413 0 discriminator 2
 1864 028c 012B     		cmp	r3, #1
 1865 028e 06D0     		beq	.L176
 1866              	.L91:
 1867              	.LVL268:
 417:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 1868              		.loc 1 417 0 is_stmt 1
 1869 0290 B3B2     		uxth	r3, r6
 1870 0292 2289     		ldrh	r2, [r4, #8]
 1871 0294 6169     		ldr	r1, [r4, #20]
 1872 0296 2846     		mov	r0, r5
 1873 0298 FFF7FEFF 		bl	USB_WritePMA
 1874              	.LVL269:
 1875 029c 3FE7     		b	.L77
 1876              	.L176:
 1877              	.LVL270:
 1878              	.LBB81:
 413:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1879              		.loc 1 413 0 discriminator 13
 1880 029e B5F85030 		ldrh	r3, [r5, #80]
 1881 02a2 9BB2     		uxth	r3, r3
 1882 02a4 2B44     		add	r3, r3, r5
 1883              	.LVL271:
 1884 02a6 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1885 02a8 03EB0213 		add	r3, r3, r2, lsl #4
 1886              	.LVL272:
 1887 02ac B2B2     		uxth	r2, r6
 1888 02ae A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1889 02b2 EDE7     		b	.L91
 1890              	.LVL273:
 1891              	.L80:
 1892              	.LBE81:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1893              		.loc 1 422 0
 1894 02b4 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1895 02b6 8ABB     		cbnz	r2, .L95
 1896              	.LVL274:
 1897              	.LBB82:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1898              		.loc 1 422 0 is_stmt 0 discriminator 1
 1899 02b8 B0F85020 		ldrh	r2, [r0, #80]
 1900 02bc 92B2     		uxth	r2, r2
 1901 02be 0244     		add	r2, r2, r0
 1902              	.LVL275:
 1903 02c0 02EB0313 		add	r3, r2, r3, lsl #4
 1904              	.LVL276:
 1905              	.LBB83:
 1906 02c4 8EB9     		cbnz	r6, .L96
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1907              		.loc 1 422 0 discriminator 3
ARM GAS  /tmp/ccAWfOy4.s 			page 50


 1908 02c6 B3F80424 		ldrh	r2, [r3, #1028]
 1909              	.LVL277:
 1910 02ca 92B2     		uxth	r2, r2
 1911 02cc 22F4F842 		bic	r2, r2, #31744
 1912 02d0 92B2     		uxth	r2, r2
 1913 02d2 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1914 02d6 B3F80424 		ldrh	r2, [r3, #1028]
 1915 02da 6FEA4242 		mvn	r2, r2, lsl #17
 1916 02de 6FEA5242 		mvn	r2, r2, lsr #17
 1917 02e2 92B2     		uxth	r2, r2
 1918 02e4 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1919 02e8 1AE0     		b	.L97
 1920              	.LVL278:
 1921              	.L96:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1922              		.loc 1 422 0 discriminator 4
 1923 02ea 3E2E     		cmp	r6, #62
 1924 02ec 09D8     		bhi	.L98
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1925              		.loc 1 422 0 discriminator 5
 1926 02ee 7208     		lsrs	r2, r6, #1
 1927              	.LVL279:
 1928 02f0 16F0010F 		tst	r6, #1
 1929 02f4 00D0     		beq	.L99
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1930              		.loc 1 422 0 discriminator 7
 1931 02f6 0132     		adds	r2, r2, #1
 1932              	.LVL280:
 1933              	.L99:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1934              		.loc 1 422 0 discriminator 9
 1935 02f8 9202     		lsls	r2, r2, #10
 1936              	.LVL281:
 1937 02fa 92B2     		uxth	r2, r2
 1938 02fc A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1939 0300 0EE0     		b	.L97
 1940              	.LVL282:
 1941              	.L98:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1942              		.loc 1 422 0 discriminator 6
 1943 0302 7209     		lsrs	r2, r6, #5
 1944              	.LVL283:
 1945 0304 16F01F0F 		tst	r6, #31
 1946 0308 00D1     		bne	.L100
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1947              		.loc 1 422 0 discriminator 10
 1948 030a 013A     		subs	r2, r2, #1
 1949              	.LVL284:
 1950              	.L100:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1951              		.loc 1 422 0 discriminator 12
 1952 030c 6FEAC262 		mvn	r2, r2, lsl #27
 1953              	.LVL285:
 1954 0310 6FEA5242 		mvn	r2, r2, lsr #17
 1955 0314 92B2     		uxth	r2, r2
 1956 0316 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 1957 031a 01E0     		b	.L97
ARM GAS  /tmp/ccAWfOy4.s 			page 51


 1958              	.LVL286:
 1959              	.L95:
 1960              	.LBE83:
 1961              	.LBE82:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 1962              		.loc 1 422 0 discriminator 2
 1963 031c 012A     		cmp	r2, #1
 1964 031e 2BD0     		beq	.L177
 1965              	.L97:
 1966              	.LVL287:
 426:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_buff += len;
 1967              		.loc 1 426 0 is_stmt 1
 1968 0320 B3B2     		uxth	r3, r6
 1969 0322 2289     		ldrh	r2, [r4, #8]
 1970 0324 6169     		ldr	r1, [r4, #20]
 1971              	.LVL288:
 1972 0326 2846     		mov	r0, r5
 1973              	.LVL289:
 1974 0328 FFF7FEFF 		bl	USB_WritePMA
 1975              	.LVL290:
 427:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 1976              		.loc 1 427 0
 1977 032c 6369     		ldr	r3, [r4, #20]
 1978 032e 3344     		add	r3, r3, r6
 1979 0330 6361     		str	r3, [r4, #20]
 429:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             {
 1980              		.loc 1 429 0
 1981 0332 236A     		ldr	r3, [r4, #32]
 1982 0334 2269     		ldr	r2, [r4, #16]
 1983 0336 9342     		cmp	r3, r2
 1984 0338 28D9     		bls	.L101
 431:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 1985              		.loc 1 431 0
 1986 033a 9B1B     		subs	r3, r3, r6
 1987 033c 2362     		str	r3, [r4, #32]
 1988              	.L102:
 1989              	.LVL291:
 1990              	.LBB84:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1991              		.loc 1 440 0
 1992 033e 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1993 0340 002B     		cmp	r3, #0
 1994 0342 40D1     		bne	.L103
 1995              	.LVL292:
 1996              	.LBB85:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 1997              		.loc 1 440 0 is_stmt 0 discriminator 1
 1998 0344 B5F85030 		ldrh	r3, [r5, #80]
 1999 0348 9BB2     		uxth	r3, r3
 2000 034a 2B44     		add	r3, r3, r5
 2001              	.LVL293:
 2002 034c 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2003 034e 03EB0213 		add	r3, r3, r2, lsl #4
 2004              	.LVL294:
 2005              	.LBB86:
 2006 0352 FEB9     		cbnz	r6, .L104
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
ARM GAS  /tmp/ccAWfOy4.s 			page 52


 2007              		.loc 1 440 0 discriminator 3
 2008 0354 B3F80C24 		ldrh	r2, [r3, #1036]
 2009 0358 92B2     		uxth	r2, r2
 2010 035a 22F4F842 		bic	r2, r2, #31744
 2011 035e 92B2     		uxth	r2, r2
 2012 0360 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2013 0364 B3F80C24 		ldrh	r2, [r3, #1036]
 2014 0368 6FEA4242 		mvn	r2, r2, lsl #17
 2015 036c 6FEA5242 		mvn	r2, r2, lsr #17
 2016 0370 92B2     		uxth	r2, r2
 2017 0372 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2018 0376 28E0     		b	.L105
 2019              	.LVL295:
 2020              	.L177:
 2021              	.LBE86:
 2022              	.LBE85:
 2023              	.LBE84:
 2024              	.LBB89:
 422:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2025              		.loc 1 422 0 is_stmt 1 discriminator 13
 2026 0378 B0F85020 		ldrh	r2, [r0, #80]
 2027 037c 92B2     		uxth	r2, r2
 2028 037e 0244     		add	r2, r2, r0
 2029              	.LVL296:
 2030 0380 02EB0313 		add	r3, r2, r3, lsl #4
 2031              	.LVL297:
 2032 0384 B2B2     		uxth	r2, r6
 2033              	.LVL298:
 2034 0386 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2035 038a C9E7     		b	.L97
 2036              	.LVL299:
 2037              	.L101:
 2038              	.LBE89:
 436:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             }
 2039              		.loc 1 436 0
 2040 038c 0022     		movs	r2, #0
 2041 038e 2262     		str	r2, [r4, #32]
 435:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               ep->xfer_len_db = 0U;
 2042              		.loc 1 435 0
 2043 0390 1E46     		mov	r6, r3
 2044 0392 D4E7     		b	.L102
 2045              	.LVL300:
 2046              	.L104:
 2047              	.LBB90:
 2048              	.LBB88:
 2049              	.LBB87:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2050              		.loc 1 440 0 discriminator 4
 2051 0394 3E2E     		cmp	r6, #62
 2052 0396 09D8     		bhi	.L106
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2053              		.loc 1 440 0 is_stmt 0 discriminator 5
 2054 0398 7208     		lsrs	r2, r6, #1
 2055              	.LVL301:
 2056 039a 16F0010F 		tst	r6, #1
 2057 039e 00D0     		beq	.L107
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
ARM GAS  /tmp/ccAWfOy4.s 			page 53


 2058              		.loc 1 440 0 discriminator 7
 2059 03a0 0132     		adds	r2, r2, #1
 2060              	.LVL302:
 2061              	.L107:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2062              		.loc 1 440 0 discriminator 9
 2063 03a2 9202     		lsls	r2, r2, #10
 2064              	.LVL303:
 2065 03a4 92B2     		uxth	r2, r2
 2066 03a6 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2067 03aa 0EE0     		b	.L105
 2068              	.L106:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2069              		.loc 1 440 0 discriminator 6
 2070 03ac 7209     		lsrs	r2, r6, #5
 2071              	.LVL304:
 2072 03ae 16F01F0F 		tst	r6, #31
 2073 03b2 00D1     		bne	.L108
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2074              		.loc 1 440 0 discriminator 10
 2075 03b4 013A     		subs	r2, r2, #1
 2076              	.LVL305:
 2077              	.L108:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2078              		.loc 1 440 0 discriminator 12
 2079 03b6 6FEAC262 		mvn	r2, r2, lsl #27
 2080              	.LVL306:
 2081 03ba 6FEA5242 		mvn	r2, r2, lsr #17
 2082 03be 92B2     		uxth	r2, r2
 2083 03c0 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2084 03c4 01E0     		b	.L105
 2085              	.LVL307:
 2086              	.L103:
 2087              	.LBE87:
 2088              	.LBE88:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2089              		.loc 1 440 0 discriminator 2
 2090 03c6 012B     		cmp	r3, #1
 2091 03c8 06D0     		beq	.L178
 2092              	.LVL308:
 2093              	.L105:
 2094              	.LBE90:
 444:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2095              		.loc 1 444 0 is_stmt 1
 2096 03ca B3B2     		uxth	r3, r6
 2097 03cc 6289     		ldrh	r2, [r4, #10]
 2098 03ce 6169     		ldr	r1, [r4, #20]
 2099 03d0 2846     		mov	r0, r5
 2100 03d2 FFF7FEFF 		bl	USB_WritePMA
 2101              	.LVL309:
 2102 03d6 A2E6     		b	.L77
 2103              	.LVL310:
 2104              	.L178:
 2105              	.LBB91:
 440:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2106              		.loc 1 440 0 discriminator 13
 2107 03d8 B5F85030 		ldrh	r3, [r5, #80]
ARM GAS  /tmp/ccAWfOy4.s 			page 54


 2108 03dc 9BB2     		uxth	r3, r3
 2109 03de 2B44     		add	r3, r3, r5
 2110              	.LVL311:
 2111 03e0 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2112 03e2 03EB0213 		add	r3, r3, r2, lsl #4
 2113              	.LVL312:
 2114 03e6 B2B2     		uxth	r2, r6
 2115 03e8 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2116 03ec EDE7     		b	.L105
 2117              	.LVL313:
 2118              	.L79:
 2119              	.LBE91:
 2120              	.LBB92:
 453:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2121              		.loc 1 453 0
 2122 03ee 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 2123              	.LVL314:
 2124 03f0 30F82130 		ldrh	r3, [r0, r1, lsl #2]
 2125 03f4 9BB2     		uxth	r3, r3
 2126 03f6 23F4E243 		bic	r3, r3, #28928
 2127 03fa 23F07003 		bic	r3, r3, #112
 2128              	.LVL315:
 2129 03fe 43F40043 		orr	r3, r3, #32768
 2130              	.LVL316:
 2131 0402 43F08003 		orr	r3, r3, #128
 2132 0406 20F82130 		strh	r3, [r0, r1, lsl #2]	@ movhi
 2133              	.LVL317:
 2134              	.LBE92:
 2135              	.LBB93:
 456:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2136              		.loc 1 456 0
 2137 040a B0F85010 		ldrh	r1, [r0, #80]
 2138 040e 89B2     		uxth	r1, r1
 2139 0410 0144     		add	r1, r1, r0
 2140              	.LVL318:
 2141 0412 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 2142 0414 01EB0311 		add	r1, r1, r3, lsl #4
 2143              	.LVL319:
 2144 0418 93B2     		uxth	r3, r2
 2145 041a A1F80434 		strh	r3, [r1, #1028]	@ movhi
 2146              	.LVL320:
 2147              	.LBE93:
 460:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 2148              		.loc 1 460 0
 2149 041e 2289     		ldrh	r2, [r4, #8]
 2150              	.LVL321:
 2151 0420 6169     		ldr	r1, [r4, #20]
 2152              	.LVL322:
 2153 0422 FFF7FEFF 		bl	USB_WritePMA
 2154              	.LVL323:
 2155 0426 7AE6     		b	.L77
 2156              	.LVL324:
 2157              	.L111:
 2158              	.LBB94:
 2159              	.LBB69:
 2160              	.LBB68:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
ARM GAS  /tmp/ccAWfOy4.s 			page 55


 2161              		.loc 1 477 0 discriminator 4
 2162 0428 3E2E     		cmp	r6, #62
 2163 042a 09D8     		bhi	.L113
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2164              		.loc 1 477 0 is_stmt 0 discriminator 5
 2165 042c 7208     		lsrs	r2, r6, #1
 2166              	.LVL325:
 2167 042e 16F0010F 		tst	r6, #1
 2168 0432 00D0     		beq	.L114
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2169              		.loc 1 477 0 discriminator 7
 2170 0434 0132     		adds	r2, r2, #1
 2171              	.LVL326:
 2172              	.L114:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2173              		.loc 1 477 0 discriminator 9
 2174 0436 9202     		lsls	r2, r2, #10
 2175              	.LVL327:
 2176 0438 92B2     		uxth	r2, r2
 2177 043a A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2178 043e 0EE0     		b	.L112
 2179              	.LVL328:
 2180              	.L113:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2181              		.loc 1 477 0 discriminator 6
 2182 0440 7209     		lsrs	r2, r6, #5
 2183              	.LVL329:
 2184 0442 16F01F0F 		tst	r6, #31
 2185 0446 00D1     		bne	.L115
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2186              		.loc 1 477 0 discriminator 10
 2187 0448 013A     		subs	r2, r2, #1
 2188              	.LVL330:
 2189              	.L115:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2190              		.loc 1 477 0 discriminator 12
 2191 044a 6FEAC262 		mvn	r2, r2, lsl #27
 2192              	.LVL331:
 2193 044e 6FEA5242 		mvn	r2, r2, lsr #17
 2194 0452 92B2     		uxth	r2, r2
 2195 0454 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2196 0458 01E0     		b	.L112
 2197              	.LVL332:
 2198              	.L110:
 2199              	.LBE68:
 2200              	.LBE69:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2201              		.loc 1 477 0 discriminator 2
 2202 045a 012A     		cmp	r2, #1
 2203 045c 26D0     		beq	.L179
 2204              	.LVL333:
 2205              	.L112:
 2206              	.LBE94:
 481:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_buff += len;
 2207              		.loc 1 481 0 is_stmt 1
 2208 045e B3B2     		uxth	r3, r6
 2209 0460 6289     		ldrh	r2, [r4, #10]
ARM GAS  /tmp/ccAWfOy4.s 			page 56


 2210 0462 6169     		ldr	r1, [r4, #20]
 2211              	.LVL334:
 2212 0464 2846     		mov	r0, r5
 2213              	.LVL335:
 2214 0466 FFF7FEFF 		bl	USB_WritePMA
 2215              	.LVL336:
 482:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2216              		.loc 1 482 0
 2217 046a 6369     		ldr	r3, [r4, #20]
 2218 046c 3344     		add	r3, r3, r6
 2219 046e 6361     		str	r3, [r4, #20]
 484:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 2220              		.loc 1 484 0
 2221 0470 236A     		ldr	r3, [r4, #32]
 2222 0472 2269     		ldr	r2, [r4, #16]
 2223 0474 9342     		cmp	r3, r2
 2224 0476 23D9     		bls	.L116
 486:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2225              		.loc 1 486 0
 2226 0478 9B1B     		subs	r3, r3, r6
 2227 047a 2362     		str	r3, [r4, #32]
 2228              	.L117:
 494:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 2229              		.loc 1 494 0
 2230 047c 002E     		cmp	r6, #0
 2231 047e 3FF44EAE 		beq	.L77
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2232              		.loc 1 497 0
 2233 0482 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 2234 0484 6BBB     		cbnz	r3, .L118
 2235              	.LVL337:
 2236              	.LBB95:
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2237              		.loc 1 497 0 is_stmt 0 discriminator 1
 2238 0486 B5F85030 		ldrh	r3, [r5, #80]
 2239 048a 9BB2     		uxth	r3, r3
 2240 048c 2B44     		add	r3, r3, r5
 2241              	.LVL338:
 2242 048e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2243 0490 03EB0213 		add	r3, r3, r2, lsl #4
 2244              	.LVL339:
 2245              	.LBB96:
 2246 0494 3E2E     		cmp	r6, #62
 2247 0496 17D8     		bhi	.L119
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2248              		.loc 1 497 0 discriminator 5
 2249 0498 7208     		lsrs	r2, r6, #1
 2250              	.LVL340:
 2251 049a 16F0010F 		tst	r6, #1
 2252 049e 00D0     		beq	.L120
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2253              		.loc 1 497 0 discriminator 7
 2254 04a0 0132     		adds	r2, r2, #1
 2255              	.LVL341:
 2256              	.L120:
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2257              		.loc 1 497 0 discriminator 9
ARM GAS  /tmp/ccAWfOy4.s 			page 57


 2258 04a2 9202     		lsls	r2, r2, #10
 2259              	.LVL342:
 2260 04a4 92B2     		uxth	r2, r2
 2261 04a6 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2262 04aa 1CE0     		b	.L121
 2263              	.LVL343:
 2264              	.L179:
 2265              	.LBE96:
 2266              	.LBE95:
 2267              	.LBB98:
 477:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2268              		.loc 1 477 0 is_stmt 1 discriminator 13
 2269 04ac B0F85020 		ldrh	r2, [r0, #80]
 2270 04b0 92B2     		uxth	r2, r2
 2271 04b2 0244     		add	r2, r2, r0
 2272              	.LVL344:
 2273 04b4 02EB0313 		add	r3, r2, r3, lsl #4
 2274              	.LVL345:
 2275 04b8 B2B2     		uxth	r2, r6
 2276              	.LVL346:
 2277 04ba A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2278 04be CEE7     		b	.L112
 2279              	.LVL347:
 2280              	.L116:
 2281              	.LBE98:
 491:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2282              		.loc 1 491 0
 2283 04c0 0022     		movs	r2, #0
 2284 04c2 2262     		str	r2, [r4, #32]
 490:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_len_db = 0U;
 2285              		.loc 1 490 0
 2286 04c4 1E46     		mov	r6, r3
 2287 04c6 D9E7     		b	.L117
 2288              	.LVL348:
 2289              	.L119:
 2290              	.LBB99:
 2291              	.LBB97:
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2292              		.loc 1 497 0 discriminator 6
 2293 04c8 7209     		lsrs	r2, r6, #5
 2294              	.LVL349:
 2295 04ca 16F01F0F 		tst	r6, #31
 2296 04ce 00D1     		bne	.L122
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2297              		.loc 1 497 0 is_stmt 0 discriminator 10
 2298 04d0 013A     		subs	r2, r2, #1
 2299              	.LVL350:
 2300              	.L122:
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2301              		.loc 1 497 0 discriminator 12
 2302 04d2 6FEAC262 		mvn	r2, r2, lsl #27
 2303              	.LVL351:
 2304 04d6 6FEA5242 		mvn	r2, r2, lsr #17
 2305 04da 92B2     		uxth	r2, r2
 2306 04dc A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2307 04e0 01E0     		b	.L121
 2308              	.LVL352:
ARM GAS  /tmp/ccAWfOy4.s 			page 58


 2309              	.L118:
 2310              	.LBE97:
 2311              	.LBE99:
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2312              		.loc 1 497 0 discriminator 2
 2313 04e2 012B     		cmp	r3, #1
 2314 04e4 06D0     		beq	.L180
 2315              	.L121:
 2316              	.LVL353:
 501:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2317              		.loc 1 501 0 is_stmt 1
 2318 04e6 B3B2     		uxth	r3, r6
 2319 04e8 2289     		ldrh	r2, [r4, #8]
 2320 04ea 6169     		ldr	r1, [r4, #20]
 2321 04ec 2846     		mov	r0, r5
 2322 04ee FFF7FEFF 		bl	USB_WritePMA
 2323              	.LVL354:
 2324 04f2 14E6     		b	.L77
 2325              	.L180:
 2326              	.LVL355:
 2327              	.LBB100:
 497:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2328              		.loc 1 497 0 discriminator 13
 2329 04f4 B5F85030 		ldrh	r3, [r5, #80]
 2330 04f8 9BB2     		uxth	r3, r3
 2331 04fa 2B44     		add	r3, r3, r5
 2332              	.LVL356:
 2333 04fc 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2334 04fe 03EB0213 		add	r3, r3, r2, lsl #4
 2335              	.LVL357:
 2336 0502 B2B2     		uxth	r2, r6
 2337 0504 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2338 0508 EDE7     		b	.L121
 2339              	.LVL358:
 2340              	.L109:
 2341              	.LBE100:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2342              		.loc 1 507 0
 2343 050a 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 2344 050c 8ABB     		cbnz	r2, .L123
 2345              	.LVL359:
 2346              	.LBB101:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2347              		.loc 1 507 0 is_stmt 0 discriminator 1
 2348 050e B0F85020 		ldrh	r2, [r0, #80]
 2349 0512 92B2     		uxth	r2, r2
 2350 0514 0244     		add	r2, r2, r0
 2351              	.LVL360:
 2352 0516 02EB0313 		add	r3, r2, r3, lsl #4
 2353              	.LVL361:
 2354              	.LBB102:
 2355 051a 8EB9     		cbnz	r6, .L124
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2356              		.loc 1 507 0 discriminator 3
 2357 051c B3F80424 		ldrh	r2, [r3, #1028]
 2358              	.LVL362:
 2359 0520 92B2     		uxth	r2, r2
ARM GAS  /tmp/ccAWfOy4.s 			page 59


 2360 0522 22F4F842 		bic	r2, r2, #31744
 2361 0526 92B2     		uxth	r2, r2
 2362 0528 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2363 052c B3F80424 		ldrh	r2, [r3, #1028]
 2364 0530 6FEA4242 		mvn	r2, r2, lsl #17
 2365 0534 6FEA5242 		mvn	r2, r2, lsr #17
 2366 0538 92B2     		uxth	r2, r2
 2367 053a A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2368 053e 1AE0     		b	.L125
 2369              	.LVL363:
 2370              	.L124:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2371              		.loc 1 507 0 discriminator 4
 2372 0540 3E2E     		cmp	r6, #62
 2373 0542 09D8     		bhi	.L126
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2374              		.loc 1 507 0 discriminator 5
 2375 0544 7208     		lsrs	r2, r6, #1
 2376              	.LVL364:
 2377 0546 16F0010F 		tst	r6, #1
 2378 054a 00D0     		beq	.L127
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2379              		.loc 1 507 0 discriminator 7
 2380 054c 0132     		adds	r2, r2, #1
 2381              	.LVL365:
 2382              	.L127:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2383              		.loc 1 507 0 discriminator 9
 2384 054e 9202     		lsls	r2, r2, #10
 2385              	.LVL366:
 2386 0550 92B2     		uxth	r2, r2
 2387 0552 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2388 0556 0EE0     		b	.L125
 2389              	.LVL367:
 2390              	.L126:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2391              		.loc 1 507 0 discriminator 6
 2392 0558 7209     		lsrs	r2, r6, #5
 2393              	.LVL368:
 2394 055a 16F01F0F 		tst	r6, #31
 2395 055e 00D1     		bne	.L128
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2396              		.loc 1 507 0 discriminator 10
 2397 0560 013A     		subs	r2, r2, #1
 2398              	.LVL369:
 2399              	.L128:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2400              		.loc 1 507 0 discriminator 12
 2401 0562 6FEAC262 		mvn	r2, r2, lsl #27
 2402              	.LVL370:
 2403 0566 6FEA5242 		mvn	r2, r2, lsr #17
 2404 056a 92B2     		uxth	r2, r2
 2405 056c A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2406 0570 01E0     		b	.L125
 2407              	.LVL371:
 2408              	.L123:
 2409              	.LBE102:
ARM GAS  /tmp/ccAWfOy4.s 			page 60


 2410              	.LBE101:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2411              		.loc 1 507 0 discriminator 2
 2412 0572 012A     		cmp	r2, #1
 2413 0574 26D0     		beq	.L181
 2414              	.L125:
 2415              	.LVL372:
 511:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_buff += len;
 2416              		.loc 1 511 0 is_stmt 1
 2417 0576 B3B2     		uxth	r3, r6
 2418 0578 2289     		ldrh	r2, [r4, #8]
 2419 057a 6169     		ldr	r1, [r4, #20]
 2420              	.LVL373:
 2421 057c 2846     		mov	r0, r5
 2422              	.LVL374:
 2423 057e FFF7FEFF 		bl	USB_WritePMA
 2424              	.LVL375:
 512:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2425              		.loc 1 512 0
 2426 0582 6369     		ldr	r3, [r4, #20]
 2427 0584 3344     		add	r3, r3, r6
 2428 0586 6361     		str	r3, [r4, #20]
 514:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 2429              		.loc 1 514 0
 2430 0588 236A     		ldr	r3, [r4, #32]
 2431 058a 2269     		ldr	r2, [r4, #16]
 2432 058c 9342     		cmp	r3, r2
 2433 058e 23D9     		bls	.L129
 516:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2434              		.loc 1 516 0
 2435 0590 9B1B     		subs	r3, r3, r6
 2436 0592 2362     		str	r3, [r4, #32]
 2437              	.L130:
 524:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           {
 2438              		.loc 1 524 0
 2439 0594 002E     		cmp	r6, #0
 2440 0596 3FF4C2AD 		beq	.L77
 2441              	.LVL376:
 2442              	.LBB103:
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2443              		.loc 1 527 0
 2444 059a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 2445 059c 6BBB     		cbnz	r3, .L131
 2446              	.LVL377:
 2447              	.LBB104:
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2448              		.loc 1 527 0 is_stmt 0 discriminator 1
 2449 059e B5F85030 		ldrh	r3, [r5, #80]
 2450 05a2 9BB2     		uxth	r3, r3
 2451 05a4 2B44     		add	r3, r3, r5
 2452              	.LVL378:
 2453 05a6 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2454 05a8 03EB0213 		add	r3, r3, r2, lsl #4
 2455              	.LVL379:
 2456              	.LBB105:
 2457 05ac 3E2E     		cmp	r6, #62
 2458 05ae 17D8     		bhi	.L132
ARM GAS  /tmp/ccAWfOy4.s 			page 61


 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2459              		.loc 1 527 0 discriminator 5
 2460 05b0 7208     		lsrs	r2, r6, #1
 2461              	.LVL380:
 2462 05b2 16F0010F 		tst	r6, #1
 2463 05b6 00D0     		beq	.L133
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2464              		.loc 1 527 0 discriminator 7
 2465 05b8 0132     		adds	r2, r2, #1
 2466              	.LVL381:
 2467              	.L133:
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2468              		.loc 1 527 0 discriminator 9
 2469 05ba 9202     		lsls	r2, r2, #10
 2470              	.LVL382:
 2471 05bc 92B2     		uxth	r2, r2
 2472 05be A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2473 05c2 1CE0     		b	.L134
 2474              	.LVL383:
 2475              	.L181:
 2476              	.LBE105:
 2477              	.LBE104:
 2478              	.LBE103:
 2479              	.LBB108:
 507:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2480              		.loc 1 507 0 is_stmt 1 discriminator 13
 2481 05c4 B0F85020 		ldrh	r2, [r0, #80]
 2482 05c8 92B2     		uxth	r2, r2
 2483 05ca 0244     		add	r2, r2, r0
 2484              	.LVL384:
 2485 05cc 02EB0313 		add	r3, r2, r3, lsl #4
 2486              	.LVL385:
 2487 05d0 B2B2     		uxth	r2, r6
 2488              	.LVL386:
 2489 05d2 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2490 05d6 CEE7     		b	.L125
 2491              	.LVL387:
 2492              	.L129:
 2493              	.LBE108:
 521:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2494              		.loc 1 521 0
 2495 05d8 0022     		movs	r2, #0
 2496 05da 2262     		str	r2, [r4, #32]
 520:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             ep->xfer_len_db = 0U;
 2497              		.loc 1 520 0
 2498 05dc 1E46     		mov	r6, r3
 2499 05de D9E7     		b	.L130
 2500              	.LVL388:
 2501              	.L132:
 2502              	.LBB109:
 2503              	.LBB107:
 2504              	.LBB106:
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2505              		.loc 1 527 0 discriminator 6
 2506 05e0 7209     		lsrs	r2, r6, #5
 2507              	.LVL389:
 2508 05e2 16F01F0F 		tst	r6, #31
ARM GAS  /tmp/ccAWfOy4.s 			page 62


 2509 05e6 00D1     		bne	.L135
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2510              		.loc 1 527 0 is_stmt 0 discriminator 10
 2511 05e8 013A     		subs	r2, r2, #1
 2512              	.LVL390:
 2513              	.L135:
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2514              		.loc 1 527 0 discriminator 12
 2515 05ea 6FEAC262 		mvn	r2, r2, lsl #27
 2516              	.LVL391:
 2517 05ee 6FEA5242 		mvn	r2, r2, lsr #17
 2518 05f2 92B2     		uxth	r2, r2
 2519 05f4 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2520 05f8 01E0     		b	.L134
 2521              	.LVL392:
 2522              	.L131:
 2523              	.LBE106:
 2524              	.LBE107:
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2525              		.loc 1 527 0 discriminator 2
 2526 05fa 012B     		cmp	r3, #1
 2527 05fc 06D0     		beq	.L182
 2528              	.LVL393:
 2529              	.L134:
 2530              	.LBE109:
 531:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2531              		.loc 1 531 0 is_stmt 1
 2532 05fe B3B2     		uxth	r3, r6
 2533 0600 6289     		ldrh	r2, [r4, #10]
 2534 0602 6169     		ldr	r1, [r4, #20]
 2535 0604 2846     		mov	r0, r5
 2536 0606 FFF7FEFF 		bl	USB_WritePMA
 2537              	.LVL394:
 2538 060a 88E5     		b	.L77
 2539              	.LVL395:
 2540              	.L182:
 2541              	.LBB110:
 527:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2542              		.loc 1 527 0 discriminator 13
 2543 060c B5F85030 		ldrh	r3, [r5, #80]
 2544 0610 9BB2     		uxth	r3, r3
 2545 0612 2B44     		add	r3, r3, r5
 2546              	.LVL396:
 2547 0614 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2548 0616 03EB0213 		add	r3, r3, r2, lsl #4
 2549              	.LVL397:
 2550 061a B2B2     		uxth	r2, r6
 2551 061c A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2552 0620 EDE7     		b	.L134
 2553              	.LVL398:
 2554              	.L138:
 2555              	.LBE110:
 552:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2556              		.loc 1 552 0
 2557 0622 0022     		movs	r2, #0
 2558 0624 8A61     		str	r2, [r1, #24]
 551:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         ep->xfer_len = 0U;
ARM GAS  /tmp/ccAWfOy4.s 			page 63


 2559              		.loc 1 551 0
 2560 0626 1A46     		mov	r2, r3
 2561 0628 F9E4     		b	.L139
 2562              	.LVL399:
 2563              	.L140:
 2564              	.LBB111:
 2565              	.LBB62:
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 2566              		.loc 1 555 0 discriminator 2
 2567 062a 3E2A     		cmp	r2, #62
 2568 062c 09D8     		bhi	.L142
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 2569              		.loc 1 555 0 is_stmt 0 discriminator 3
 2570 062e 5408     		lsrs	r4, r2, #1
 2571              	.LVL400:
 2572 0630 12F0010F 		tst	r2, #1
 2573 0634 00D0     		beq	.L143
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 2574              		.loc 1 555 0 discriminator 5
 2575 0636 0134     		adds	r4, r4, #1
 2576              	.LVL401:
 2577              	.L143:
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 2578              		.loc 1 555 0 discriminator 7
 2579 0638 A402     		lsls	r4, r4, #10
 2580              	.LVL402:
 2581 063a A4B2     		uxth	r4, r4
 2582 063c A3F80C44 		strh	r4, [r3, #1036]	@ movhi
 2583 0640 08E5     		b	.L141
 2584              	.L142:
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 2585              		.loc 1 555 0 discriminator 4
 2586 0642 5409     		lsrs	r4, r2, #5
 2587              	.LVL403:
 2588 0644 12F01F0F 		tst	r2, #31
 2589 0648 00D1     		bne	.L144
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 2590              		.loc 1 555 0 discriminator 8
 2591 064a 013C     		subs	r4, r4, #1
 2592              	.LVL404:
 2593              	.L144:
 555:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     }
 2594              		.loc 1 555 0 discriminator 10
 2595 064c 6FEAC464 		mvn	r4, r4, lsl #27
 2596              	.LVL405:
 2597 0650 6FEA5444 		mvn	r4, r4, lsr #17
 2598 0654 A4B2     		uxth	r4, r4
 2599 0656 A3F80C44 		strh	r4, [r3, #1036]	@ movhi
 2600 065a FBE4     		b	.L141
 2601              	.LVL406:
 2602              	.L137:
 2603              	.LBE62:
 2604              	.LBE111:
 561:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 2605              		.loc 1 561 0 is_stmt 1
 2606 065c CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 2607 065e 022A     		cmp	r2, #2
ARM GAS  /tmp/ccAWfOy4.s 			page 64


 2608 0660 04D0     		beq	.L183
 580:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       {
 2609              		.loc 1 580 0
 2610 0662 012A     		cmp	r2, #1
 2611 0664 00F09780 		beq	.L184
 597:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2612              		.loc 1 597 0
 2613 0668 0120     		movs	r0, #1
 2614              	.LVL407:
 605:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2615              		.loc 1 605 0
 2616 066a 70BD     		pop	{r4, r5, r6, pc}
 2617              	.LVL408:
 2618              	.L183:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2619              		.loc 1 563 0
 2620 066c CBB9     		cbnz	r3, .L146
 2621              	.LVL409:
 2622              	.LBB112:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2623              		.loc 1 563 0 is_stmt 0 discriminator 1
 2624 066e B0F85030 		ldrh	r3, [r0, #80]
 2625 0672 9BB2     		uxth	r3, r3
 2626 0674 0344     		add	r3, r3, r0
 2627              	.LVL410:
 2628 0676 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2629 0678 03EB0213 		add	r3, r3, r2, lsl #4
 2630              	.LVL411:
 2631              	.LBB113:
 2632 067c 0A69     		ldr	r2, [r1, #16]
 2633 067e 72BB     		cbnz	r2, .L147
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2634              		.loc 1 563 0 discriminator 3
 2635 0680 B3F80424 		ldrh	r2, [r3, #1028]
 2636 0684 92B2     		uxth	r2, r2
 2637 0686 22F4F842 		bic	r2, r2, #31744
 2638 068a 92B2     		uxth	r2, r2
 2639 068c A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2640 0690 B3F80424 		ldrh	r2, [r3, #1028]
 2641 0694 6FEA4242 		mvn	r2, r2, lsl #17
 2642 0698 6FEA5242 		mvn	r2, r2, lsr #17
 2643 069c 92B2     		uxth	r2, r2
 2644 069e A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2645              	.LVL412:
 2646              	.L146:
 2647              	.LBE113:
 2648              	.LBE112:
 2649              	.LBB115:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2650              		.loc 1 563 0 discriminator 15
 2651 06a2 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2652 06a4 002B     		cmp	r3, #0
 2653 06a6 4CD1     		bne	.L151
 2654              	.LVL413:
 2655              	.LBB116:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2656              		.loc 1 563 0 discriminator 16
ARM GAS  /tmp/ccAWfOy4.s 			page 65


 2657 06a8 B0F85030 		ldrh	r3, [r0, #80]
 2658 06ac 9BB2     		uxth	r3, r3
 2659 06ae 0344     		add	r3, r3, r0
 2660              	.LVL414:
 2661 06b0 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2662 06b2 03EB0213 		add	r3, r3, r2, lsl #4
 2663              	.LVL415:
 2664              	.LBB117:
 2665 06b6 0A69     		ldr	r2, [r1, #16]
 2666 06b8 52BB     		cbnz	r2, .L152
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2667              		.loc 1 563 0 discriminator 18
 2668 06ba B3F80C24 		ldrh	r2, [r3, #1036]
 2669 06be 92B2     		uxth	r2, r2
 2670 06c0 22F4F842 		bic	r2, r2, #31744
 2671 06c4 92B2     		uxth	r2, r2
 2672 06c6 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2673 06ca B3F80C24 		ldrh	r2, [r3, #1036]
 2674 06ce 6FEA4242 		mvn	r2, r2, lsl #17
 2675 06d2 6FEA5242 		mvn	r2, r2, lsr #17
 2676 06d6 92B2     		uxth	r2, r2
 2677 06d8 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2678 06dc 33E0     		b	.L153
 2679              	.LVL416:
 2680              	.L147:
 2681              	.LBE117:
 2682              	.LBE116:
 2683              	.LBE115:
 2684              	.LBB120:
 2685              	.LBB114:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2686              		.loc 1 563 0 discriminator 4
 2687 06de 3E2A     		cmp	r2, #62
 2688 06e0 09D8     		bhi	.L148
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2689              		.loc 1 563 0 discriminator 5
 2690 06e2 5408     		lsrs	r4, r2, #1
 2691              	.LVL417:
 2692 06e4 12F0010F 		tst	r2, #1
 2693 06e8 00D0     		beq	.L149
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2694              		.loc 1 563 0 discriminator 7
 2695 06ea 0134     		adds	r4, r4, #1
 2696              	.LVL418:
 2697              	.L149:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2698              		.loc 1 563 0 discriminator 9
 2699 06ec A202     		lsls	r2, r4, #10
 2700 06ee 92B2     		uxth	r2, r2
 2701 06f0 A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2702 06f4 D5E7     		b	.L146
 2703              	.LVL419:
 2704              	.L148:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2705              		.loc 1 563 0 discriminator 6
 2706 06f6 5409     		lsrs	r4, r2, #5
 2707              	.LVL420:
ARM GAS  /tmp/ccAWfOy4.s 			page 66


 2708 06f8 12F01F0F 		tst	r2, #31
 2709 06fc 00D1     		bne	.L150
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2710              		.loc 1 563 0 discriminator 10
 2711 06fe 013C     		subs	r4, r4, #1
 2712              	.LVL421:
 2713              	.L150:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2714              		.loc 1 563 0 discriminator 12
 2715 0700 6FEAC462 		mvn	r2, r4, lsl #27
 2716 0704 6FEA5242 		mvn	r2, r2, lsr #17
 2717 0708 92B2     		uxth	r2, r2
 2718 070a A3F80424 		strh	r2, [r3, #1028]	@ movhi
 2719 070e C8E7     		b	.L146
 2720              	.LVL422:
 2721              	.L152:
 2722              	.LBE114:
 2723              	.LBE120:
 2724              	.LBB121:
 2725              	.LBB119:
 2726              	.LBB118:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2727              		.loc 1 563 0 discriminator 19
 2728 0710 3E2A     		cmp	r2, #62
 2729 0712 09D8     		bhi	.L154
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2730              		.loc 1 563 0 discriminator 20
 2731 0714 5408     		lsrs	r4, r2, #1
 2732              	.LVL423:
 2733 0716 12F0010F 		tst	r2, #1
 2734 071a 00D0     		beq	.L155
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2735              		.loc 1 563 0 discriminator 22
 2736 071c 0134     		adds	r4, r4, #1
 2737              	.LVL424:
 2738              	.L155:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2739              		.loc 1 563 0 discriminator 24
 2740 071e A202     		lsls	r2, r4, #10
 2741 0720 92B2     		uxth	r2, r2
 2742 0722 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2743 0726 0EE0     		b	.L153
 2744              	.LVL425:
 2745              	.L154:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2746              		.loc 1 563 0 discriminator 21
 2747 0728 5409     		lsrs	r4, r2, #5
 2748              	.LVL426:
 2749 072a 12F01F0F 		tst	r2, #31
 2750 072e 00D1     		bne	.L156
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2751              		.loc 1 563 0 discriminator 25
 2752 0730 013C     		subs	r4, r4, #1
 2753              	.LVL427:
 2754              	.L156:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2755              		.loc 1 563 0 discriminator 27
ARM GAS  /tmp/ccAWfOy4.s 			page 67


 2756 0732 6FEAC462 		mvn	r2, r4, lsl #27
 2757 0736 6FEA5242 		mvn	r2, r2, lsr #17
 2758 073a 92B2     		uxth	r2, r2
 2759 073c A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2760 0740 01E0     		b	.L153
 2761              	.LVL428:
 2762              	.L151:
 2763              	.LBE118:
 2764              	.LBE119:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2765              		.loc 1 563 0 discriminator 17
 2766 0742 012B     		cmp	r3, #1
 2767 0744 1CD0     		beq	.L185
 2768              	.LVL429:
 2769              	.L153:
 2770              	.LBE121:
 566:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 2771              		.loc 1 566 0 is_stmt 1
 2772 0746 CB69     		ldr	r3, [r1, #28]
 2773 0748 002B     		cmp	r3, #0
 2774 074a 3FF483AC 		beq	.L141
 569:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2775              		.loc 1 569 0
 2776 074e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2777 0750 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 2778              	.LVL430:
 2779 0754 44F24004 		movw	r4, #16448
 2780 0758 2340     		ands	r3, r3, r4
 2781              	.LVL431:
 572:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               (((wEPVal & USB_EP_DTOG_RX) == 0U) && ((wEPVal & USB_EP_DTOG_TX) == 0U)))
 2782              		.loc 1 572 0
 2783 075a A342     		cmp	r3, r4
 2784 075c 02D0     		beq	.L157
 572:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****               (((wEPVal & USB_EP_DTOG_RX) == 0U) && ((wEPVal & USB_EP_DTOG_TX) == 0U)))
 2785              		.loc 1 572 0 is_stmt 0 discriminator 1
 2786 075e 002B     		cmp	r3, #0
 2787 0760 7FF478AC 		bne	.L141
 2788              	.L157:
 2789              	.LBB122:
 575:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           }
 2790              		.loc 1 575 0 is_stmt 1 discriminator 1
 2791 0764 30F82230 		ldrh	r3, [r0, r2, lsl #2]
 2792 0768 9BB2     		uxth	r3, r3
 2793 076a 23F4E043 		bic	r3, r3, #28672
 2794 076e 23F07003 		bic	r3, r3, #112
 2795              	.LVL432:
 2796 0772 43F40043 		orr	r3, r3, #32768
 2797              	.LVL433:
 2798 0776 43F0C003 		orr	r3, r3, #192
 2799 077a 20F82230 		strh	r3, [r0, r2, lsl #2]	@ movhi
 2800              	.LBE122:
 2801 077e 69E4     		b	.L141
 2802              	.LVL434:
 2803              	.L185:
 2804              	.LBB123:
 563:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 2805              		.loc 1 563 0 discriminator 28
ARM GAS  /tmp/ccAWfOy4.s 			page 68


 2806 0780 B0F85030 		ldrh	r3, [r0, #80]
 2807 0784 9BB2     		uxth	r3, r3
 2808 0786 0344     		add	r3, r3, r0
 2809              	.LVL435:
 2810 0788 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 2811 078a 03EB0213 		add	r3, r3, r2, lsl #4
 2812              	.LVL436:
 2813 078e 0A8A     		ldrh	r2, [r1, #16]
 2814 0790 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2815 0794 D7E7     		b	.L153
 2816              	.LVL437:
 2817              	.L184:
 2818              	.LBE123:
 583:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         {
 2819              		.loc 1 583 0
 2820 0796 8C69     		ldr	r4, [r1, #24]
 2821 0798 0A69     		ldr	r2, [r1, #16]
 2822 079a 9442     		cmp	r4, r2
 2823 079c 38D9     		bls	.L158
 2824              	.LVL438:
 586:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 2825              		.loc 1 586 0
 2826 079e A41A     		subs	r4, r4, r2
 2827 07a0 8C61     		str	r4, [r1, #24]
 2828              	.L159:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2829              		.loc 1 593 0
 2830 07a2 C3B9     		cbnz	r3, .L160
 2831              	.LVL439:
 2832              	.LBB124:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2833              		.loc 1 593 0 is_stmt 0 discriminator 1
 2834 07a4 B0F85030 		ldrh	r3, [r0, #80]
 2835 07a8 9BB2     		uxth	r3, r3
 2836 07aa 0344     		add	r3, r3, r0
 2837              	.LVL440:
 2838 07ac 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 2839 07ae 03EB0413 		add	r3, r3, r4, lsl #4
 2840              	.LVL441:
 2841              	.LBB125:
 2842 07b2 8ABB     		cbnz	r2, .L161
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2843              		.loc 1 593 0 discriminator 3
 2844 07b4 B3F80444 		ldrh	r4, [r3, #1028]
 2845 07b8 A4B2     		uxth	r4, r4
 2846 07ba 24F4F844 		bic	r4, r4, #31744
 2847 07be A4B2     		uxth	r4, r4
 2848 07c0 A3F80444 		strh	r4, [r3, #1028]	@ movhi
 2849 07c4 B3F80444 		ldrh	r4, [r3, #1028]
 2850 07c8 6FEA4444 		mvn	r4, r4, lsl #17
 2851 07cc 6FEA5444 		mvn	r4, r4, lsr #17
 2852 07d0 A4B2     		uxth	r4, r4
 2853 07d2 A3F80444 		strh	r4, [r3, #1028]	@ movhi
 2854              	.LVL442:
 2855              	.L160:
 2856              	.LBE125:
 2857              	.LBE124:
ARM GAS  /tmp/ccAWfOy4.s 			page 69


 2858              	.LBB127:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2859              		.loc 1 593 0 discriminator 15
 2860 07d6 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2861 07d8 002B     		cmp	r3, #0
 2862 07da 51D1     		bne	.L165
 2863              	.LVL443:
 2864              	.LBB128:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2865              		.loc 1 593 0 discriminator 16
 2866 07dc B0F85030 		ldrh	r3, [r0, #80]
 2867 07e0 9BB2     		uxth	r3, r3
 2868 07e2 0344     		add	r3, r3, r0
 2869              	.LVL444:
 2870 07e4 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 2871 07e6 03EB0413 		add	r3, r3, r4, lsl #4
 2872              	.LVL445:
 2873              	.LBB129:
 2874 07ea 72BB     		cbnz	r2, .L166
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2875              		.loc 1 593 0 discriminator 18
 2876 07ec B3F80C24 		ldrh	r2, [r3, #1036]
 2877              	.LVL446:
 2878 07f0 92B2     		uxth	r2, r2
 2879 07f2 22F4F842 		bic	r2, r2, #31744
 2880 07f6 92B2     		uxth	r2, r2
 2881 07f8 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2882 07fc B3F80C24 		ldrh	r2, [r3, #1036]
 2883 0800 6FEA4242 		mvn	r2, r2, lsl #17
 2884 0804 6FEA5242 		mvn	r2, r2, lsr #17
 2885 0808 92B2     		uxth	r2, r2
 2886 080a A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2887 080e 21E4     		b	.L141
 2888              	.LVL447:
 2889              	.L158:
 2890              	.LBE129:
 2891              	.LBE128:
 2892              	.LBE127:
 591:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****         }
 2893              		.loc 1 591 0 is_stmt 1
 2894 0810 0022     		movs	r2, #0
 2895 0812 8A61     		str	r2, [r1, #24]
 590:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****           ep->xfer_len = 0U;
 2896              		.loc 1 590 0
 2897 0814 2246     		mov	r2, r4
 2898 0816 C4E7     		b	.L159
 2899              	.LVL448:
 2900              	.L161:
 2901              	.LBB132:
 2902              	.LBB126:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2903              		.loc 1 593 0 discriminator 4
 2904 0818 3E2A     		cmp	r2, #62
 2905 081a 09D8     		bhi	.L162
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2906              		.loc 1 593 0 is_stmt 0 discriminator 5
 2907 081c 5408     		lsrs	r4, r2, #1
ARM GAS  /tmp/ccAWfOy4.s 			page 70


 2908              	.LVL449:
 2909 081e 12F0010F 		tst	r2, #1
 2910 0822 00D0     		beq	.L163
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2911              		.loc 1 593 0 discriminator 7
 2912 0824 0134     		adds	r4, r4, #1
 2913              	.LVL450:
 2914              	.L163:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2915              		.loc 1 593 0 discriminator 9
 2916 0826 A402     		lsls	r4, r4, #10
 2917              	.LVL451:
 2918 0828 A4B2     		uxth	r4, r4
 2919 082a A3F80444 		strh	r4, [r3, #1028]	@ movhi
 2920 082e D2E7     		b	.L160
 2921              	.L162:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2922              		.loc 1 593 0 discriminator 6
 2923 0830 5409     		lsrs	r4, r2, #5
 2924              	.LVL452:
 2925 0832 12F01F0F 		tst	r2, #31
 2926 0836 00D1     		bne	.L164
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2927              		.loc 1 593 0 discriminator 10
 2928 0838 013C     		subs	r4, r4, #1
 2929              	.LVL453:
 2930              	.L164:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2931              		.loc 1 593 0 discriminator 12
 2932 083a 6FEAC464 		mvn	r4, r4, lsl #27
 2933              	.LVL454:
 2934 083e 6FEA5444 		mvn	r4, r4, lsr #17
 2935 0842 A4B2     		uxth	r4, r4
 2936 0844 A3F80444 		strh	r4, [r3, #1028]	@ movhi
 2937 0848 C5E7     		b	.L160
 2938              	.LVL455:
 2939              	.L166:
 2940              	.LBE126:
 2941              	.LBE132:
 2942              	.LBB133:
 2943              	.LBB131:
 2944              	.LBB130:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2945              		.loc 1 593 0 discriminator 19
 2946 084a 3E2A     		cmp	r2, #62
 2947 084c 0AD8     		bhi	.L167
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2948              		.loc 1 593 0 discriminator 20
 2949 084e 5408     		lsrs	r4, r2, #1
 2950              	.LVL456:
 2951 0850 12F0010F 		tst	r2, #1
 2952 0854 00D0     		beq	.L168
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2953              		.loc 1 593 0 discriminator 22
 2954 0856 0134     		adds	r4, r4, #1
 2955              	.LVL457:
 2956              	.L168:
ARM GAS  /tmp/ccAWfOy4.s 			page 71


 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2957              		.loc 1 593 0 discriminator 24
 2958 0858 A202     		lsls	r2, r4, #10
 2959              	.LVL458:
 2960 085a 92B2     		uxth	r2, r2
 2961 085c A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2962 0860 FFF7F8BB 		b	.L141
 2963              	.LVL459:
 2964              	.L167:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2965              		.loc 1 593 0 discriminator 21
 2966 0864 5409     		lsrs	r4, r2, #5
 2967              	.LVL460:
 2968 0866 12F01F0F 		tst	r2, #31
 2969 086a 00D1     		bne	.L169
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2970              		.loc 1 593 0 discriminator 25
 2971 086c 013C     		subs	r4, r4, #1
 2972              	.LVL461:
 2973              	.L169:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2974              		.loc 1 593 0 discriminator 27
 2975 086e 6FEAC462 		mvn	r2, r4, lsl #27
 2976              	.LVL462:
 2977 0872 6FEA5242 		mvn	r2, r2, lsr #17
 2978 0876 92B2     		uxth	r2, r2
 2979 0878 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2980 087c FFF7EABB 		b	.L141
 2981              	.LVL463:
 2982              	.L165:
 2983              	.LBE130:
 2984              	.LBE131:
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2985              		.loc 1 593 0 discriminator 17
 2986 0880 012B     		cmp	r3, #1
 2987 0882 7FF4E7AB 		bne	.L141
 593:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****       }
 2988              		.loc 1 593 0 discriminator 28
 2989 0886 B0F85030 		ldrh	r3, [r0, #80]
 2990 088a 9BB2     		uxth	r3, r3
 2991 088c 0344     		add	r3, r3, r0
 2992              	.LVL464:
 2993 088e 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 2994 0890 03EB0413 		add	r3, r3, r4, lsl #4
 2995              	.LVL465:
 2996 0894 92B2     		uxth	r2, r2
 2997              	.LVL466:
 2998 0896 A3F80C24 		strh	r2, [r3, #1036]	@ movhi
 2999 089a FFF7DBBB 		b	.L141
 3000              	.LBE133:
 3001              		.cfi_endproc
 3002              	.LFE79:
 3004              		.section	.text.USB_ReadPMA,"ax",%progbits
 3005              		.align	1
 3006              		.global	USB_ReadPMA
 3007              		.syntax unified
 3008              		.thumb
ARM GAS  /tmp/ccAWfOy4.s 			page 72


 3009              		.thumb_func
 3010              		.fpu softvfp
 3012              	USB_ReadPMA:
 3013              	.LFB90:
 804:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 805:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** /**
 806:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @brief Copy data from packet memory area (PMA) to user memory buffer
 807:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   USBx USB peripheral instance register address.
 808:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   pbUsrBuf pointer to user memory area.
 809:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   wPMABufAddr address into PMA.
 810:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @param   wNBytes no. of bytes to be copied.
 811:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   * @retval None
 812:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   */
 813:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** void USB_ReadPMA(USB_TypeDef *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
 814:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** {
 3014              		.loc 1 814 0 is_stmt 1
 3015              		.cfi_startproc
 3016              		@ args = 0, pretend = 0, frame = 0
 3017              		@ frame_needed = 0, uses_anonymous_args = 0
 3018              		@ link register save eliminated.
 3019              	.LVL467:
 3020 0000 30B4     		push	{r4, r5}
 3021              	.LCFI15:
 3022              		.cfi_def_cfa_offset 8
 3023              		.cfi_offset 4, -8
 3024              		.cfi_offset 5, -4
 815:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t n = (uint32_t)wNBytes >> 1;
 3025              		.loc 1 815 0
 3026 0002 5D08     		lsrs	r5, r3, #1
 3027              	.LVL468:
 816:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t BaseAddr = (uint32_t)USBx;
 817:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint32_t i, temp;
 818:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   __IO uint16_t *pdwVal;
 819:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   uint8_t *pBuf = pbUsrBuf;
 820:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 821:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   pdwVal = (__IO uint16_t *)(BaseAddr + 0x400U + ((uint32_t)wPMABufAddr * PMA_ACCESS));
 3028              		.loc 1 821 0
 3029 0004 00EB4202 		add	r2, r0, r2, lsl #1
 3030              	.LVL469:
 3031 0008 02F58062 		add	r2, r2, #1024
 3032              	.LVL470:
 822:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 823:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   for (i = n; i != 0U; i--)
 3033              		.loc 1 823 0
 3034 000c 07E0     		b	.L187
 3035              	.LVL471:
 3036              	.L188:
 824:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 825:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     temp = *(__IO uint16_t *)pdwVal;
 3037              		.loc 1 825 0 discriminator 3
 3038 000e 32F8044B 		ldrh	r4, [r2], #4
 3039              	.LVL472:
 3040 0012 A4B2     		uxth	r4, r4
 3041              	.LVL473:
 826:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pdwVal++;
 827:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     *pBuf = (uint8_t)((temp >> 0) & 0xFFU);
 3042              		.loc 1 827 0 discriminator 3
ARM GAS  /tmp/ccAWfOy4.s 			page 73


 3043 0014 0C70     		strb	r4, [r1]
 3044              	.LVL474:
 828:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pBuf++;
 829:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     *pBuf = (uint8_t)((temp >> 8) & 0xFFU);
 3045              		.loc 1 829 0 discriminator 3
 3046 0016 240A     		lsrs	r4, r4, #8
 3047              	.LVL475:
 3048 0018 4C70     		strb	r4, [r1, #1]
 830:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pBuf++;
 3049              		.loc 1 830 0 discriminator 3
 3050 001a 0231     		adds	r1, r1, #2
 3051              	.LVL476:
 823:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 3052              		.loc 1 823 0 discriminator 3
 3053 001c 013D     		subs	r5, r5, #1
 3054              	.LVL477:
 3055              	.L187:
 823:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 3056              		.loc 1 823 0 is_stmt 0 discriminator 1
 3057 001e 002D     		cmp	r5, #0
 3058 0020 F5D1     		bne	.L188
 831:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 832:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #if PMA_ACCESS > 1U
 833:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     pdwVal++;
 834:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** #endif
 835:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 836:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** 
 837:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   if ((wNBytes % 2U) != 0U)
 3059              		.loc 1 837 0 is_stmt 1
 3060 0022 13F0010F 		tst	r3, #1
 3061 0026 01D0     		beq	.L186
 838:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   {
 839:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     temp = *pdwVal;
 3062              		.loc 1 839 0
 3063 0028 1388     		ldrh	r3, [r2]
 3064              	.LVL478:
 840:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****     *pBuf = (uint8_t)((temp >> 0) & 0xFFU);
 3065              		.loc 1 840 0
 3066 002a 0B70     		strb	r3, [r1]
 3067              	.LVL479:
 3068              	.L186:
 841:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c ****   }
 842:Drivers/STM32L1xx_HAL_Driver/Src/stm32l1xx_ll_usb.c **** }
 3069              		.loc 1 842 0
 3070 002c 30BC     		pop	{r4, r5}
 3071              	.LCFI16:
 3072              		.cfi_restore 5
 3073              		.cfi_restore 4
 3074              		.cfi_def_cfa_offset 0
 3075              	.LVL480:
 3076 002e 7047     		bx	lr
 3077              		.cfi_endproc
 3078              	.LFE90:
 3080              		.text
 3081              	.Letext0:
 3082              		.file 2 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 3083              		.file 3 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
ARM GAS  /tmp/ccAWfOy4.s 			page 74


 3084              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 3085              		.file 5 "Drivers/CMSIS/Device/ST/STM32L1xx/Include/system_stm32l1xx.h"
 3086              		.file 6 "Drivers/CMSIS/Device/ST/STM32L1xx/Include/stm32l152xe.h"
 3087              		.file 7 "Drivers/STM32L1xx_HAL_Driver/Inc/stm32l1xx_hal_def.h"
 3088              		.file 8 "Drivers/STM32L1xx_HAL_Driver/Inc/stm32l1xx_ll_usb.h"
 3089              		.file 9 "Drivers/STM32L1xx_HAL_Driver/Inc/stm32l1xx_hal.h"
ARM GAS  /tmp/ccAWfOy4.s 			page 75


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32l1xx_ll_usb.c
     /tmp/ccAWfOy4.s:16     .text.USB_CoreInit:0000000000000000 $t
     /tmp/ccAWfOy4.s:23     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/ccAWfOy4.s:48     .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/ccAWfOy4.s:55     .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/ccAWfOy4.s:78     .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/ccAWfOy4.s:85     .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/ccAWfOy4.s:107    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/ccAWfOy4.s:114    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/ccAWfOy4.s:130    .text.USB_DevInit:0000000000000000 $t
     /tmp/ccAWfOy4.s:137    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/ccAWfOy4.s:179    .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/ccAWfOy4.s:186    .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/ccAWfOy4.s:216    .text.USB_ActivateEndpoint:0000000000000020 $d
     /tmp/ccAWfOy4.s:220    .text.USB_ActivateEndpoint:0000000000000024 $t
     /tmp/ccAWfOy4.s:713    .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/ccAWfOy4.s:720    .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/ccAWfOy4.s:1006   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/ccAWfOy4.s:1013   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/ccAWfOy4.s:1066   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/ccAWfOy4.s:1073   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/ccAWfOy4.s:1177   .text.USB_StopDevice:0000000000000000 $t
     /tmp/ccAWfOy4.s:1184   .text.USB_StopDevice:0000000000000000 USB_StopDevice
     /tmp/ccAWfOy4.s:1209   .text.USB_SetDevAddress:0000000000000000 $t
     /tmp/ccAWfOy4.s:1216   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/ccAWfOy4.s:1238   .text.USB_DevConnect:0000000000000000 $t
     /tmp/ccAWfOy4.s:1245   .text.USB_DevConnect:0000000000000000 USB_DevConnect
     /tmp/ccAWfOy4.s:1261   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/ccAWfOy4.s:1268   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/ccAWfOy4.s:1284   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/ccAWfOy4.s:1291   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/ccAWfOy4.s:1310   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccAWfOy4.s:1317   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
     /tmp/ccAWfOy4.s:1338   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccAWfOy4.s:1345   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup
     /tmp/ccAWfOy4.s:1367   .text.USB_WritePMA:0000000000000000 $t
     /tmp/ccAWfOy4.s:1374   .text.USB_WritePMA:0000000000000000 USB_WritePMA
     /tmp/ccAWfOy4.s:1434   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/ccAWfOy4.s:1441   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/ccAWfOy4.s:3005   .text.USB_ReadPMA:0000000000000000 $t
     /tmp/ccAWfOy4.s:3012   .text.USB_ReadPMA:0000000000000000 USB_ReadPMA
                     .debug_frame:0000000000000010 $d

NO UNDEFINED SYMBOLS
